<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>6 Pipeline | Summary of findings development</title>
<meta name="description" content="We need pairwise and NMA available on the data with specifications for outcomes timepoints class dose type of comparison made We need to verify the data are what we think they are, what model is...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="6 Pipeline | Summary of findings development">
<meta property="og:type" content="book">
<meta property="og:description" content="We need pairwise and NMA available on the data with specifications for outcomes timepoints class dose type of comparison made We need to verify the data are what we think they are, what model is...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="6 Pipeline | Summary of findings development">
<meta name="twitter:description" content="We need pairwise and NMA available on the data with specifications for outcomes timepoints class dose type of comparison made We need to verify the data are what we think they are, what model is...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.0/transition.js"></script><script src="libs/bs3compat-0.3.0/tabs.js"></script><script src="libs/bs3compat-0.3.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="include/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Summary of findings development</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Overview</a></li>
<li><a class="" href="outcome-analyses.html"><span class="header-section-number">2</span> Outcome analyses</a></li>
<li><a class="" href="substantial-pain.html"><span class="header-section-number">3</span> Substantial pain</a></li>
<li><a class="" href="mood.html"><span class="header-section-number">4</span> Mood</a></li>
<li><a class="" href="documentation.html"><span class="header-section-number">5</span> Documentation</a></li>
<li><a class="active" href="pipeline.html"><span class="header-section-number">6</span> Pipeline</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="pipeline" class="section level1" number="6">
<h1>
<span class="header-section-number">6</span> Pipeline<a class="anchor" aria-label="anchor" href="#pipeline"><i class="fas fa-link"></i></a>
</h1>
<p>We need pairwise and NMA available on the data with specifications for</p>
<ul>
<li>outcomes</li>
<li>timepoints</li>
<li>class</li>
<li>dose</li>
<li>type of comparison made</li>
</ul>
<p>We need to verify the data are what we think they are, what model is output,
and capture meta-data about the analysis. Crucially, plot output needs to be captured in the output meta-data, as does the location of the model.</p>
<p>The clean data is found in <code>mod_dat</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">tar_load</span><span class="op">(</span><span class="va">mod_dat</span><span class="op">)</span>

<span class="va">mod_dat</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3098   73</code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mod_dat</span> <span class="op">%&gt;%</span> <span class="fu">sample_n</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
rob_factors
</th>
<th style="text-align:left;">
rob
</th>
<th style="text-align:left;">
rob_subcat
</th>
<th style="text-align:right;">
gs_row
</th>
<th style="text-align:left;">
outcome
</th>
<th style="text-align:left;">
study
</th>
<th style="text-align:left;">
title
</th>
<th style="text-align:left;">
main_aim_of_study
</th>
<th style="text-align:left;">
intervention
</th>
<th style="text-align:left;">
intervention_type
</th>
<th style="text-align:left;">
intervention_grouping
</th>
<th style="text-align:left;">
arm
</th>
<th style="text-align:left;">
class
</th>
<th style="text-align:left;">
ad_dose_numerical_fixed_amount_range_or_mean_dose
</th>
<th style="text-align:left;">
dose
</th>
<th style="text-align:left;">
dose_schedule
</th>
<th style="text-align:left;">
length_of_study_start_to_post_intervention
</th>
<th style="text-align:left;">
pain_condition
</th>
<th style="text-align:left;">
condition
</th>
<th style="text-align:left;">
iasp_pain_grouping
</th>
<th style="text-align:left;">
minimum_pain_inclusion
</th>
<th style="text-align:left;">
design
</th>
<th style="text-align:left;">
imputation_method
</th>
<th style="text-align:left;">
scale
</th>
<th style="text-align:left;">
timepoint
</th>
<th style="text-align:left;">
follow_up_timepoint
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
se
</th>
<th style="text-align:right;">
median
</th>
<th style="text-align:right;">
ci_lower
</th>
<th style="text-align:right;">
ci_upper
</th>
<th style="text-align:right;">
iqr_lower
</th>
<th style="text-align:right;">
iqr_higher
</th>
<th style="text-align:right;">
n
</th>
<th style="text-align:right;">
r
</th>
<th style="text-align:right;">
r_percent
</th>
<th style="text-align:left;">
change_score
</th>
<th style="text-align:left;">
adverse_events_definition
</th>
<th style="text-align:left;">
stats_notes
</th>
<th style="text-align:left;">
study_notes
</th>
<th style="text-align:left;">
date_checked
</th>
<th style="text-align:left;">
remove_row_for_mood_analysis
</th>
<th style="text-align:left;">
funded_by_pharma
</th>
<th style="text-align:left;">
sequence_generation
</th>
<th style="text-align:left;">
allocation_concealment
</th>
<th style="text-align:left;">
blinding_of_participants_and_personnel
</th>
<th style="text-align:left;">
blinding_of_outcome_assessors
</th>
<th style="text-align:left;">
incomplete_outcome_data
</th>
<th style="text-align:left;">
selective_outcome_reporting
</th>
<th style="text-align:left;">
other_sources_of_bias
</th>
<th style="text-align:left;">
direction_of_improvement
</th>
<th style="text-align:left;">
outcome_nma
</th>
<th style="text-align:left;">
outcome_label
</th>
<th style="text-align:left;">
model_type
</th>
<th style="text-align:left;">
model_text
</th>
<th style="text-align:left;">
description
</th>
<th style="text-align:left;">
scale_dir
</th>
<th style="text-align:right;">
lower_bound
</th>
<th style="text-align:right;">
upper_bound
</th>
<th style="text-align:left;">
n_calc
</th>
<th style="text-align:left;">
r_calc
</th>
<th style="text-align:left;">
mean_calc
</th>
<th style="text-align:left;">
se_med_calc
</th>
<th style="text-align:left;">
sd_med_upper_calc
</th>
<th style="text-align:left;">
sd_calc_med_lower
</th>
<th style="text-align:left;">
sd_na_calc
</th>
<th style="text-align:left;">
mean_dir
</th>
<th style="text-align:left;">
type
</th>
<th style="text-align:left;">
outcome_all
</th>
<th style="text-align:left;">
time_no_change
</th>
<th style="text-align:left;">
timepoint_label
</th>
<th style="text-align:left;">
type_label
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
low; low; low; low; high; low; low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:right;">
2157
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pickering 2018
</td>
<td style="text-align:left;">
milnacipran poorly modulates pain in patients suffering from fibromyalgia: a randomized double-blind controlled study
</td>
<td style="text-align:left;">
experimental pain
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
4 weeks
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
completer analysis
</td>
<td style="text-align:left;">
0-10 numerical rating scale
</td>
<td style="text-align:left;">
baseline
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
6.60
</td>
<td style="text-align:right;">
1.60
</td>
<td style="text-align:right;">
0.3265986
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pain intensity (continuous measure)
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
any continuous measure of pain
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
baseline
</td>
<td style="text-align:left;">
baseline
</td>
<td style="text-align:left;">
placebo
</td>
</tr>
<tr>
<td style="text-align:left;">
unclear; unclear; high; high; low; unclear; low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high + unclear
</td>
<td style="text-align:right;">
1345
</td>
<td style="text-align:left;">
sleep
</td>
<td style="text-align:left;">
gonzalez-viejo 2005
</td>
<td style="text-align:left;">
a comparative study of fibromyalgia treatment: ultrasonography and physiotherapy versus sertraline treatment
</td>
<td style="text-align:left;">
pain
</td>
<td style="text-align:left;">
physical therapy
</td>
<td style="text-align:left;">
physical therapy
</td>
<td style="text-align:left;">
non-pharmacological
</td>
<td style="text-align:left;">
physical therapy
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
24 weeks
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
no dropout
</td>
<td style="text-align:left;">
0-10 numerical rating scale [higher=better]
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
-2.80
</td>
<td style="text-align:right;">
0.40
</td>
<td style="text-align:right;">
0.0685994
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
not reported
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
sleep
</td>
<td style="text-align:left;">
sleep
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
higher
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
npharm
</td>
<td style="text-align:left;">
sleep
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
non-pharmacological
</td>
</tr>
<tr>
<td style="text-align:left;">
low; low; low; low; unclear; unclear; low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:right;">
452
</td>
<td style="text-align:left;">
mood
</td>
<td style="text-align:left;">
atkinson 1998
</td>
<td style="text-align:left;">
a placebo-controlled randomized clinical trial of nortriptyline for chronic low back pain
</td>
<td style="text-align:left;">
pain
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
8 weeks
</td>
<td style="text-align:left;">
low back pain
</td>
<td style="text-align:left;">
musculoskeletal
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
itt unspecified method
</td>
<td style="text-align:left;">
sickness impact profile - psychosocial subscale
</td>
<td style="text-align:left;">
baseline
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
8.16
</td>
<td style="text-align:right;">
8.74
</td>
<td style="text-align:right;">
1.3819153
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
mood
</td>
<td style="text-align:left;">
mood
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
mood_overall
</td>
<td style="text-align:left;">
baseline
</td>
<td style="text-align:left;">
baseline
</td>
<td style="text-align:left;">
placebo
</td>
</tr>
<tr>
<td style="text-align:left;">
low; unclear; low; low; high; high; unclear
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high + unclear
</td>
<td style="text-align:right;">
1736
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
lee 2016
</td>
<td style="text-align:left;">
effect of milnacipran on pain in patients with rheumatoid arthritis with widespread pain: a randomized blinded crossover trial
</td>
<td style="text-align:left;">
pain
</td>
<td style="text-align:left;">
milnacipran
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
milnacipran 100mg
</td>
<td style="text-align:left;">
snri
</td>
<td style="text-align:left;">
100mg
</td>
<td style="text-align:left;">
standard
</td>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
6 weeks
</td>
<td style="text-align:left;">
rheumatoid arthritis
</td>
<td style="text-align:left;">
musculoskeletal
</td>
<td style="text-align:left;">
musculoskeletal
</td>
<td style="text-align:left;">
≥4 on bpi; ≥5 on regional pain scale
</td>
<td style="text-align:left;">
crossover
</td>
<td style="text-align:left;">
itt with locf
</td>
<td style="text-align:left;">
0-10 numerical rating scale
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
4.80
</td>
<td style="text-align:right;">
2.20
</td>
<td style="text-align:right;">
0.3889087
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
2021-09-27
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
yes
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pain intensity (continuous measure)
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
any continuous measure of pain
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
ad
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
low; unclear; unclear; unclear; high; unclear; low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high + unclear
</td>
<td style="text-align:right;">
169
</td>
<td style="text-align:left;">
adverse_dropout
</td>
<td style="text-align:left;">
aragona 2005
</td>
<td style="text-align:left;">
randomized double-blind comparison of serotonergic (citalopram) versus noradrenergic (reboxetine) upatke inhibitors in outpatients with somatoform, dsm-iv-tr pain disorder
</td>
<td style="text-align:left;">
pain
</td>
<td style="text-align:left;">
citalopram
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
citalopram 40mg
</td>
<td style="text-align:left;">
ssri
</td>
<td style="text-align:left;">
40mg
</td>
<td style="text-align:left;">
standard
</td>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
8 weeks
</td>
<td style="text-align:left;">
somatoform pain disorder
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
randomized population
</td>
<td style="text-align:left;">
count
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
not reported
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
adverse_dropout
</td>
<td style="text-align:left;">
dropout due to adverse events
</td>
<td style="text-align:left;">
lor
</td>
<td style="text-align:left;">
odds ratio
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
ad
</td>
<td style="text-align:left;">
adverse_dropout
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
unclear; low; low; low; unclear; unclear; low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:right;">
633
</td>
<td style="text-align:left;">
withdrawal
</td>
<td style="text-align:left;">
cardenas 2002
</td>
<td style="text-align:left;">
efficacy of amitriptyline relief for pain in spinal cord injury: results of a randomized controlled trial
</td>
<td style="text-align:left;">
pain
</td>
<td style="text-align:left;">
benzotropine mesylate
</td>
<td style="text-align:left;">
active placebo
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
benzotropine mesylate 0.5mg
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
n/a
</td>
<td style="text-align:left;">
6 weeks
</td>
<td style="text-align:left;">
spinal cord injury
</td>
<td style="text-align:left;">
neuropathic
</td>
<td style="text-align:left;">
neuropathic
</td>
<td style="text-align:left;">
≥3 on 10nrs
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
itt unspecified method
</td>
<td style="text-align:left;">
count
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
withdrawal
</td>
<td style="text-align:left;">
withdrawal
</td>
<td style="text-align:left;">
lor
</td>
<td style="text-align:left;">
odds ratio
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
placebo
</td>
<td style="text-align:left;">
withdrawal
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="getting-data" class="section level2" number="6.1">
<h2>
<span class="header-section-number">6.1</span> Getting data<a class="anchor" aria-label="anchor" href="#getting-data"><i class="fas fa-link"></i></a>
</h2>
<p>Based on specific filters, we want to get data for NMA or for PW.</p>
<p>-[] Create get NMA dat fn.
-[] Create get MA dat fn.
- Resist the urge to combine the two.
-[] Create target to test get NMA.
-[] Create in document.
-[] Write example.
-[] Write asserts or tests based on example.</p>
<p>For example, suppose we wish to</p>
<p>Let’s check that our function works as it should.</p>
</div>
<div id="tasks" class="section level2" number="6.2">
<h2>
<span class="header-section-number">6.2</span> Tasks<a class="anchor" aria-label="anchor" href="#tasks"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>[] Provide placebo vs duloxetine stratified by dose</li>
</ul>
<div id="placebo-vs-duloxetine" class="section level3" number="6.2.1">
<h3>
<span class="header-section-number">6.2.1</span> Placebo vs duloxetine<a class="anchor" aria-label="anchor" href="#placebo-vs-duloxetine"><i class="fas fa-link"></i></a>
</h3>
<p>We have a function to identify the studies that contain both the comparators. Let’s check it gives us the number of studies we expect.</p>
<pre><code>## [1] TRUE</code></pre>
<p>Now that we have the studies that have both, we can capture the observations.</p>
<p>Check we have the right number of studies.</p>
<pre><code>## [1] 22</code></pre>
<pre><code>## [1] 22</code></pre>
<p>Now we need to put the data into wide format. First check there is not more than one placebo per study.</p>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
study
</th>
<th style="text-align:left;">
intervention
</th>
<th style="text-align:right;">
n
</th>
</tr></thead>
<tbody><tr></tr></tbody>
</table></div>
</div>
<p>Since we have one placebo per study, we can bind the placebo data to the data as the control. Should label as control. Need to capture various things, and this is the tricky part.</p>
<p>Check how many studies and arms are expected.</p>
<pre><code>## [1] 32</code></pre>
<pre><code>## [1] 32</code></pre>
<pre><code>## Error in get_pw_dat(dat = mod_dat, outcome = "pain_sub", type = "ad", : unused argument (type = "ad")</code></pre>
<pre><code>## function (yi, vi, sei, weights, ai, bi, ci, di, n1i, n2i, x1i, 
##     x2i, t1i, t2i, m1i, m2i, sd1i, sd2i, xi, mi, ri, ti, sdi, 
##     r2i, ni, mods, scale, measure = "GEN", intercept = TRUE, 
##     data, slab, subset, add = 1/2, to = "only0", drop00 = FALSE, 
##     vtype = "LS", method = "REML", weighted = TRUE, test = "z", 
##     level = 95, digits, btt, att, tau2, verbose = FALSE, control, 
##     ...) 
## {
##     mstyle &lt;- .get.mstyle("crayon" %in% .packages())
##     if (!is.element(measure, c("RR", "OR", "PETO", "RD", "AS", 
##         "PHI", "YUQ", "YUY", "RTET", "PBIT", "OR2D", "OR2DN", 
##         "OR2DL", "MPRD", "MPRR", "MPOR", "MPORC", "MPPETO", "IRR", 
##         "IRD", "IRSD", "MD", "SMD", "SMDH", "ROM", "CVR", "VR", 
##         "RPB", "RBIS", "D2OR", "D2ORN", "D2ORL", "COR", "UCOR", 
##         "ZCOR", "PCOR", "ZPCOR", "SPCOR", "PR", "PLN", "PLO", 
##         "PAS", "PFT", "IR", "IRLN", "IRS", "IRFT", "MN", "MNLN", 
##         "CVLN", "SDLN", "SMD1", "MC", "SMCC", "SMCR", "SMCRH", 
##         "ROMC", "CVRC", "VRC", "ARAW", "AHW", "ABT", "GEN"))) 
##         stop(mstyle$stop("Unknown 'measure' specified."))
##     if (!is.element(method, c("FE", "EE", "CE", "HS", "HSk", 
##         "HE", "DL", "DLIT", "GENQ", "GENQM", "SJ", "SJIT", "PM", 
##         "PMM", "ML", "REML", "EB"))) 
##         stop(mstyle$stop("Unknown 'method' specified."))
##     if (length(add) &gt; 1L) 
##         add &lt;- add[1]
##     if (length(to) &gt; 1L) 
##         to &lt;- to[1]
##     na.act &lt;- getOption("na.action")
##     if (!is.element(na.act, c("na.omit", "na.exclude", "na.fail", 
##         "na.pass"))) 
##         stop(mstyle$stop("Unknown 'na.action' specified under options()."))
##     if (missing(tau2)) 
##         tau2 &lt;- NULL
##     if (missing(control)) 
##         control &lt;- list()
##     time.start &lt;- proc.time()
##     ddd &lt;- list(...)
##     .chkdots(ddd, c("knha", "link", "alpha", "outlist", "onlyo1", 
##         "addyi", "addvi", "time", "skipr2", "skiphes"))
##     if (.isFALSE(ddd$knha)) 
##         test &lt;- "z"
##     if (.isTRUE(ddd$knha)) 
##         test &lt;- "knha"
##     if (!is.element(test, c("z", "t", "knha", "adhoc"))) 
##         stop(mstyle$stop("Invalid option selected for 'test' argument."))
##     if (missing(scale)) {
##         model &lt;- "rma.uni"
##     }
##     else {
##         if (is.element(test, c("knha", "adhoc"))) 
##             stop(mstyle$stop("Cannot use Knapp &amp; Hartung method with location-scale models."))
##         model &lt;- "rma.ls"
##     }
##     if (!is.null(ddd$link)) {
##         link &lt;- match.arg(ddd$link, c("log", "identity"))
##     }
##     else {
##         link &lt;- "log"
##     }
##     if (!is.null(ddd$alpha)) {
##         alpha &lt;- ddd$alpha
##     }
##     else {
##         alpha &lt;- NA
##     }
##     onlyo1 &lt;- ifelse(is.null(ddd$onlyo1), FALSE, ddd$onlyo1)
##     addyi &lt;- ifelse(is.null(ddd$addyi), TRUE, ddd$addyi)
##     addvi &lt;- ifelse(is.null(ddd$addvi), TRUE, ddd$addvi)
##     if (missing(digits)) {
##         digits &lt;- .set.digits(dmiss = TRUE)
##     }
##     else {
##         digits &lt;- .set.digits(digits, dmiss = FALSE)
##     }
##     formula.yi &lt;- NULL
##     formula.mods &lt;- NULL
##     formula.scale &lt;- NULL
##     if (verbose &gt; 2) {
##         opwarn &lt;- options(warn = 1)
##         on.exit(options(warn = opwarn$warn))
##     }
##     if (verbose &amp;&amp; !exists(".rmspace")) 
##         cat("\n")
##     if (verbose &gt; 1) 
##         message(mstyle$message("Extracting/computing yi/vi values ..."))
##     if (missing(data)) 
##         data &lt;- NULL
##     if (is.null(data)) {
##         data &lt;- sys.frame(sys.parent())
##     }
##     else {
##         if (!is.data.frame(data)) 
##             data &lt;- data.frame(data)
##     }
##     mf &lt;- match.call()
##     addval &lt;- mf[[match("add", names(mf))]]
##     if (is.element(measure, c("AS", "PHI", "RTET", "IRSD", "PAS", 
##         "PFT", "IRS", "IRFT")) &amp;&amp; is.null(addval)) 
##         add &lt;- 0
##     mf.yi &lt;- mf[[match("yi", names(mf))]]
##     yi &lt;- eval(mf.yi, data, enclos = sys.frame(sys.parent()))
##     if (!is.null(yi) &amp;&amp; inherits(yi, "escalc")) 
##         data &lt;- yi
##     mf.weights &lt;- mf[[match("weights", names(mf))]]
##     mf.slab &lt;- mf[[match("slab", names(mf))]]
##     mf.subset &lt;- mf[[match("subset", names(mf))]]
##     mf.mods &lt;- mf[[match("mods", names(mf))]]
##     mf.scale &lt;- mf[[match("scale", names(mf))]]
##     weights &lt;- eval(mf.weights, data, enclos = sys.frame(sys.parent()))
##     slab &lt;- eval(mf.slab, data, enclos = sys.frame(sys.parent()))
##     subset &lt;- eval(mf.subset, data, enclos = sys.frame(sys.parent()))
##     mods &lt;- eval(mf.mods, data, enclos = sys.frame(sys.parent()))
##     scale &lt;- eval(mf.scale, data, enclos = sys.frame(sys.parent()))
##     ai &lt;- bi &lt;- ci &lt;- di &lt;- x1i &lt;- x2i &lt;- t1i &lt;- t2i &lt;- NA
##     if (!is.null(yi)) {
##         if (inherits(yi, "formula")) {
##             formula.yi &lt;- yi
##             options(na.action = "na.pass")
##             mods &lt;- model.matrix(yi, data = data)
##             attr(mods, "assign") &lt;- NULL
##             attr(mods, "contrasts") &lt;- NULL
##             yi &lt;- model.response(model.frame(yi, data = data))
##             options(na.action = na.act)
##             names(yi) &lt;- NULL
##             intercept &lt;- FALSE
##         }
##         if (inherits(yi, "escalc")) {
##             if (!is.null(attr(yi, "yi.names"))) {
##                 yi.name &lt;- attr(yi, "yi.names")[1]
##             }
##             else {
##                 if (!is.element("yi", names(yi))) 
##                   stop(mstyle$stop("Cannot determine name of the 'yi' variable."))
##                 yi.name &lt;- "yi"
##             }
##             if (!is.null(attr(yi, "vi.names"))) {
##                 vi.name &lt;- attr(yi, "vi.names")[1]
##             }
##             else {
##                 if (!is.element("vi", names(yi))) 
##                   stop(mstyle$stop("Cannot determine name of the 'vi' variable."))
##                 vi.name &lt;- "vi"
##             }
##             vi &lt;- yi[[vi.name]]
##             yi &lt;- yi[[yi.name]]
##             yi.escalc &lt;- TRUE
##         }
##         else {
##             yi.escalc &lt;- FALSE
##         }
##         if (is.matrix(yi)) 
##             yi &lt;- as.vector(yi)
##         k &lt;- length(yi)
##         k.all &lt;- k
##         if (measure == "GEN" &amp;&amp; !is.null(attr(yi, "measure"))) 
##             measure &lt;- attr(yi, "measure")
##         attr(yi, "measure") &lt;- measure
##         if (!yi.escalc) {
##             mf.vi &lt;- mf[[match("vi", names(mf))]]
##             mf.sei &lt;- mf[[match("sei", names(mf))]]
##             vi &lt;- eval(mf.vi, data, enclos = sys.frame(sys.parent()))
##             sei &lt;- eval(mf.sei, data, enclos = sys.frame(sys.parent()))
##         }
##         mf.ni &lt;- mf[[match("ni", names(mf))]]
##         ni &lt;- eval(mf.ni, data, enclos = sys.frame(sys.parent()))
##         if (is.null(vi)) {
##             if (is.null(sei)) {
##                 stop(mstyle$stop("Must specify 'vi' or 'sei' argument."))
##             }
##             else {
##                 vi &lt;- sei^2
##             }
##         }
##         if (is.matrix(vi)) 
##             vi &lt;- as.vector(vi)
##         if ((length(vi) == 1L &amp;&amp; vi == 0) || (length(vi) == k &amp;&amp; 
##             !anyNA(vi) &amp;&amp; all(vi == 0))) {
##             vi0 &lt;- TRUE
##         }
##         else {
##             vi0 &lt;- FALSE
##         }
##         if (length(vi) == 1L) 
##             vi &lt;- rep(vi, k)
##         if (length(vi) != k) 
##             stop(mstyle$stop("Length of 'yi' and 'vi' (or 'sei') is not the same."))
##         if (is.null(ni) &amp;&amp; !is.null(attr(yi, "ni"))) 
##             ni &lt;- attr(yi, "ni")
##         if (!is.null(ni) &amp;&amp; length(ni) != k) 
##             ni &lt;- NULL
##         if (!is.null(ni)) 
##             attr(yi, "ni") &lt;- ni
##         if (is.null(slab)) {
##             if (!is.null(attr(yi, "slab"))) 
##                 slab &lt;- attr(yi, "slab")
##             if (!is.null(slab) &amp;&amp; length(slab) != k) 
##                 slab &lt;- NULL
##         }
##         if (!is.null(subset)) {
##             subset &lt;- .setnafalse(subset, k = k)
##             yi &lt;- yi[subset]
##             vi &lt;- vi[subset]
##             ni &lt;- ni[subset]
##             attr(yi, "measure") &lt;- measure
##             attr(yi, "ni") &lt;- ni
##         }
##     }
##     else {
##         if (is.element(measure, c("RR", "OR", "PETO", "RD", "AS", 
##             "PHI", "YUQ", "YUY", "RTET", "PBIT", "OR2D", "OR2DN", 
##             "OR2DL", "MPRD", "MPRR", "MPOR", "MPORC", "MPPETO"))) {
##             mf.ai &lt;- mf[[match("ai", names(mf))]]
##             mf.bi &lt;- mf[[match("bi", names(mf))]]
##             mf.ci &lt;- mf[[match("ci", names(mf))]]
##             mf.di &lt;- mf[[match("di", names(mf))]]
##             mf.n1i &lt;- mf[[match("n1i", names(mf))]]
##             mf.n2i &lt;- mf[[match("n2i", names(mf))]]
##             ai &lt;- eval(mf.ai, data, enclos = sys.frame(sys.parent()))
##             bi &lt;- eval(mf.bi, data, enclos = sys.frame(sys.parent()))
##             ci &lt;- eval(mf.ci, data, enclos = sys.frame(sys.parent()))
##             di &lt;- eval(mf.di, data, enclos = sys.frame(sys.parent()))
##             n1i &lt;- eval(mf.n1i, data, enclos = sys.frame(sys.parent()))
##             n2i &lt;- eval(mf.n2i, data, enclos = sys.frame(sys.parent()))
##             if (is.null(bi)) 
##                 bi &lt;- n1i - ai
##             if (is.null(di)) 
##                 di &lt;- n2i - ci
##             k &lt;- length(ai)
##             k.all &lt;- k
##             if (!is.null(subset)) {
##                 subset &lt;- .setnafalse(subset, k = k)
##                 ai &lt;- ai[subset]
##                 bi &lt;- bi[subset]
##                 ci &lt;- ci[subset]
##                 di &lt;- di[subset]
##             }
##             dat &lt;- escalc(measure = measure, ai = ai, bi = bi, 
##                 ci = ci, di = di, add = add, to = to, drop00 = drop00, 
##                 vtype = vtype, onlyo1 = onlyo1, addyi = addyi, 
##                 addvi = addvi)
##         }
##         if (is.element(measure, c("IRR", "IRD", "IRSD"))) {
##             mf.x1i &lt;- mf[[match("x1i", names(mf))]]
##             mf.x2i &lt;- mf[[match("x2i", names(mf))]]
##             mf.t1i &lt;- mf[[match("t1i", names(mf))]]
##             mf.t2i &lt;- mf[[match("t2i", names(mf))]]
##             x1i &lt;- eval(mf.x1i, data, enclos = sys.frame(sys.parent()))
##             x2i &lt;- eval(mf.x2i, data, enclos = sys.frame(sys.parent()))
##             t1i &lt;- eval(mf.t1i, data, enclos = sys.frame(sys.parent()))
##             t2i &lt;- eval(mf.t2i, data, enclos = sys.frame(sys.parent()))
##             k &lt;- length(x1i)
##             k.all &lt;- k
##             if (!is.null(subset)) {
##                 subset &lt;- .setnafalse(subset, k = k)
##                 x1i &lt;- x1i[subset]
##                 x2i &lt;- x2i[subset]
##                 t1i &lt;- t1i[subset]
##                 t2i &lt;- t2i[subset]
##             }
##             dat &lt;- escalc(measure = measure, x1i = x1i, x2i = x2i, 
##                 t1i = t1i, t2i = t2i, add = add, to = to, drop00 = drop00, 
##                 vtype = vtype, addyi = addyi, addvi = addvi)
##         }
##         if (is.element(measure, c("MD", "SMD", "SMDH", "ROM", 
##             "RPB", "RBIS", "D2OR", "D2ORN", "D2ORL", "CVR", "VR"))) {
##             mf.m1i &lt;- mf[[match("m1i", names(mf))]]
##             mf.m2i &lt;- mf[[match("m2i", names(mf))]]
##             mf.sd1i &lt;- mf[[match("sd1i", names(mf))]]
##             mf.sd2i &lt;- mf[[match("sd2i", names(mf))]]
##             mf.n1i &lt;- mf[[match("n1i", names(mf))]]
##             mf.n2i &lt;- mf[[match("n2i", names(mf))]]
##             m1i &lt;- eval(mf.m1i, data, enclos = sys.frame(sys.parent()))
##             m2i &lt;- eval(mf.m2i, data, enclos = sys.frame(sys.parent()))
##             sd1i &lt;- eval(mf.sd1i, data, enclos = sys.frame(sys.parent()))
##             sd2i &lt;- eval(mf.sd2i, data, enclos = sys.frame(sys.parent()))
##             n1i &lt;- eval(mf.n1i, data, enclos = sys.frame(sys.parent()))
##             n2i &lt;- eval(mf.n2i, data, enclos = sys.frame(sys.parent()))
##             k &lt;- length(n1i)
##             k.all &lt;- k
##             if (!is.null(subset)) {
##                 subset &lt;- .setnafalse(subset, k = k)
##                 m1i &lt;- m1i[subset]
##                 m2i &lt;- m2i[subset]
##                 sd1i &lt;- sd1i[subset]
##                 sd2i &lt;- sd2i[subset]
##                 n1i &lt;- n1i[subset]
##                 n2i &lt;- n2i[subset]
##             }
##             dat &lt;- escalc(measure = measure, m1i = m1i, m2i = m2i, 
##                 sd1i = sd1i, sd2i = sd2i, n1i = n1i, n2i = n2i, 
##                 vtype = vtype)
##         }
##         if (is.element(measure, c("COR", "UCOR", "ZCOR"))) {
##             mf.ri &lt;- mf[[match("ri", names(mf))]]
##             mf.ni &lt;- mf[[match("ni", names(mf))]]
##             ri &lt;- eval(mf.ri, data, enclos = sys.frame(sys.parent()))
##             ni &lt;- eval(mf.ni, data, enclos = sys.frame(sys.parent()))
##             k &lt;- length(ri)
##             k.all &lt;- k
##             if (!is.null(subset)) {
##                 subset &lt;- .setnafalse(subset, k = k)
##                 ri &lt;- ri[subset]
##                 ni &lt;- ni[subset]
##             }
##             dat &lt;- escalc(measure = measure, ri = ri, ni = ni, 
##                 vtype = vtype)
##         }
##         if (is.element(measure, c("PCOR", "ZPCOR", "SPCOR"))) {
##             mf.ti &lt;- mf[[match("ti", names(mf))]]
##             mf.r2i &lt;- mf[[match("r2i", names(mf))]]
##             mf.mi &lt;- mf[[match("mi", names(mf))]]
##             mf.ni &lt;- mf[[match("ni", names(mf))]]
##             ti &lt;- eval(mf.ti, data, enclos = sys.frame(sys.parent()))
##             r2i &lt;- eval(mf.r2i, data, enclos = sys.frame(sys.parent()))
##             mi &lt;- eval(mf.mi, data, enclos = sys.frame(sys.parent()))
##             ni &lt;- eval(mf.ni, data, enclos = sys.frame(sys.parent()))
##             k &lt;- length(ti)
##             k.all &lt;- k
##             if (!is.null(subset)) {
##                 subset &lt;- .setnafalse(subset, k = k)
##                 ti &lt;- ti[subset]
##                 r2i &lt;- r2i[subset]
##                 mi &lt;- mi[subset]
##                 ni &lt;- ni[subset]
##             }
##             dat &lt;- escalc(measure = measure, ti = ti, r2i = r2i, 
##                 mi = mi, ni = ni, vtype = vtype)
##         }
##         if (is.element(measure, c("PR", "PLN", "PLO", "PAS", 
##             "PFT"))) {
##             mf.xi &lt;- mf[[match("xi", names(mf))]]
##             mf.mi &lt;- mf[[match("mi", names(mf))]]
##             mf.ni &lt;- mf[[match("ni", names(mf))]]
##             xi &lt;- eval(mf.xi, data, enclos = sys.frame(sys.parent()))
##             mi &lt;- eval(mf.mi, data, enclos = sys.frame(sys.parent()))
##             ni &lt;- eval(mf.ni, data, enclos = sys.frame(sys.parent()))
##             if (is.null(mi)) 
##                 mi &lt;- ni - xi
##             k &lt;- length(xi)
##             k.all &lt;- k
##             if (!is.null(subset)) {
##                 subset &lt;- .setnafalse(subset, k = k)
##                 xi &lt;- xi[subset]
##                 mi &lt;- mi[subset]
##             }
##             dat &lt;- escalc(measure = measure, xi = xi, mi = mi, 
##                 add = add, to = to, vtype = vtype, addyi = addyi, 
##                 addvi = addvi)
##         }
##         if (is.element(measure, c("IR", "IRLN", "IRS", "IRFT"))) {
##             mf.xi &lt;- mf[[match("xi", names(mf))]]
##             mf.ti &lt;- mf[[match("ti", names(mf))]]
##             xi &lt;- eval(mf.xi, data, enclos = sys.frame(sys.parent()))
##             ti &lt;- eval(mf.ti, data, enclos = sys.frame(sys.parent()))
##             k &lt;- length(xi)
##             k.all &lt;- k
##             if (!is.null(subset)) {
##                 subset &lt;- .setnafalse(subset, k = k)
##                 xi &lt;- xi[subset]
##                 ti &lt;- ti[subset]
##             }
##             dat &lt;- escalc(measure = measure, xi = xi, ti = ti, 
##                 add = add, to = to, vtype = vtype, addyi = addyi, 
##                 addvi = addvi)
##         }
##         if (is.element(measure, c("MN", "MNLN", "CVLN", "SDLN", 
##             "SMD1"))) {
##             mf.mi &lt;- mf[[match("mi", names(mf))]]
##             mf.sdi &lt;- mf[[match("sdi", names(mf))]]
##             mf.ni &lt;- mf[[match("ni", names(mf))]]
##             mi &lt;- eval(mf.mi, data, enclos = sys.frame(sys.parent()))
##             sdi &lt;- eval(mf.sdi, data, enclos = sys.frame(sys.parent()))
##             ni &lt;- eval(mf.ni, data, enclos = sys.frame(sys.parent()))
##             k &lt;- length(ni)
##             k.all &lt;- k
##             if (!is.null(subset)) {
##                 subset &lt;- .setnafalse(subset, k = k)
##                 mi &lt;- mi[subset]
##                 sdi &lt;- sdi[subset]
##                 ni &lt;- ni[subset]
##             }
##             dat &lt;- escalc(measure = measure, mi = mi, sdi = sdi, 
##                 ni = ni, vtype = vtype)
##         }
##         if (is.element(measure, c("MC", "SMCC", "SMCR", "SMCRH", 
##             "ROMC", "CVRC", "VRC"))) {
##             mf.m1i &lt;- mf[[match("m1i", names(mf))]]
##             mf.m2i &lt;- mf[[match("m2i", names(mf))]]
##             mf.sd1i &lt;- mf[[match("sd1i", names(mf))]]
##             mf.sd2i &lt;- mf[[match("sd2i", names(mf))]]
##             mf.ri &lt;- mf[[match("ri", names(mf))]]
##             mf.ni &lt;- mf[[match("ni", names(mf))]]
##             m1i &lt;- eval(mf.m1i, data, enclos = sys.frame(sys.parent()))
##             m2i &lt;- eval(mf.m2i, data, enclos = sys.frame(sys.parent()))
##             sd1i &lt;- eval(mf.sd1i, data, enclos = sys.frame(sys.parent()))
##             sd2i &lt;- eval(mf.sd2i, data, enclos = sys.frame(sys.parent()))
##             ri &lt;- eval(mf.ri, data, enclos = sys.frame(sys.parent()))
##             ni &lt;- eval(mf.ni, data, enclos = sys.frame(sys.parent()))
##             k &lt;- length(m1i)
##             k.all &lt;- k
##             if (!is.null(subset)) {
##                 subset &lt;- .setnafalse(subset, k = k)
##                 m1i &lt;- m1i[subset]
##                 m2i &lt;- m2i[subset]
##                 sd1i &lt;- sd1i[subset]
##                 sd2i &lt;- sd2i[subset]
##                 ni &lt;- ni[subset]
##                 ri &lt;- ri[subset]
##             }
##             dat &lt;- escalc(measure = measure, m1i = m1i, m2i = m2i, 
##                 sd1i = sd1i, sd2i = sd2i, ri = ri, ni = ni, vtype = vtype)
##         }
##         if (is.element(measure, c("ARAW", "AHW", "ABT"))) {
##             mf.ai &lt;- mf[[match("ai", names(mf))]]
##             mf.mi &lt;- mf[[match("mi", names(mf))]]
##             mf.ni &lt;- mf[[match("ni", names(mf))]]
##             ai &lt;- eval(mf.ai, data, enclos = sys.frame(sys.parent()))
##             mi &lt;- eval(mf.mi, data, enclos = sys.frame(sys.parent()))
##             ni &lt;- eval(mf.ni, data, enclos = sys.frame(sys.parent()))
##             k &lt;- length(ai)
##             k.all &lt;- k
##             if (!is.null(subset)) {
##                 subset &lt;- .setnafalse(subset, k = k)
##                 ai &lt;- ai[subset]
##                 mi &lt;- mi[subset]
##                 ni &lt;- ni[subset]
##             }
##             dat &lt;- escalc(measure = measure, ai = ai, mi = mi, 
##                 ni = ni, vtype = vtype)
##         }
##         if (is.element(measure, "GEN")) 
##             stop(mstyle$stop("Specify the desired outcome measure via the 'measure' argument."))
##         yi &lt;- dat$yi
##         vi &lt;- dat$vi
##         ni &lt;- attr(yi, "ni")
##     }
##     if (length(weights) == 1L) 
##         weights &lt;- rep(weights, k)
##     if (!is.null(weights) &amp;&amp; (length(weights) != k)) 
##         stop(mstyle$stop("Length of 'yi' and 'weights' is not the same."))
##     if (!is.null(subset)) 
##         weights &lt;- weights[subset]
##     if (verbose &gt; 1) 
##         message(mstyle$message("Creating model matrix ..."))
##     if (inherits(mods, "formula")) {
##         formula.mods &lt;- mods
##         options(na.action = "na.pass")
##         mods &lt;- model.matrix(mods, data = data)
##         attr(mods, "assign") &lt;- NULL
##         attr(mods, "contrasts") &lt;- NULL
##         options(na.action = na.act)
##         intercept &lt;- FALSE
##     }
##     if (.is.vector(mods)) 
##         mods &lt;- cbind(mods)
##     if (is.data.frame(mods)) 
##         mods &lt;- as.matrix(mods)
##     if (is.character(mods)) 
##         stop(mstyle$stop("Model matrix contains character variables."))
##     if (!is.null(mods) &amp;&amp; nrow(mods) != k) 
##         stop(mstyle$stop(paste0("Number of rows in the model matrix (", 
##             nrow(mods), ") does not match length of the outcome vector (", 
##             k, ").")))
##     if (model == "rma.ls") {
##         if (inherits(scale, "formula")) {
##             formula.scale &lt;- scale
##             options(na.action = "na.pass")
##             Z &lt;- model.matrix(scale, data = data)
##             colnames(Z)[grep("(Intercept)", colnames(Z))] &lt;- "intrcpt"
##             attr(Z, "assign") &lt;- NULL
##             attr(Z, "contrasts") &lt;- NULL
##             options(na.action = na.act)
##         }
##         else {
##             Z &lt;- scale
##             if (.is.vector(Z)) 
##                 Z &lt;- cbind(Z)
##             if (is.data.frame(Z)) 
##                 Z &lt;- as.matrix(Z)
##             if (is.character(Z)) 
##                 stop(mstyle$stop("Model matrix contains character variables."))
##         }
##         if (nrow(Z) != k) 
##             stop(mstyle$stop(paste0("Number of rows in the model matrix specified via the 'scale' argument (", 
##                 nrow(Z), ") does not match length of the outcome vector (", 
##                 k, ").")))
##     }
##     else {
##         Z &lt;- NULL
##     }
##     if (verbose &gt; 1) 
##         message(mstyle$message("Generating/extracting study labels ..."))
##     ids &lt;- seq_len(k)
##     if (is.null(slab)) {
##         slab.null &lt;- TRUE
##         slab &lt;- ids
##     }
##     else {
##         if (anyNA(slab)) 
##             stop(mstyle$stop("NAs in study labels."))
##         if (length(slab) != k) 
##             stop(mstyle$stop("Study labels not of same length as data."))
##         slab.null &lt;- FALSE
##     }
##     if (!is.null(subset)) {
##         if (verbose &gt; 1) 
##             message(mstyle$message("Subsetting ..."))
##         mods &lt;- mods[subset, , drop = FALSE]
##         slab &lt;- slab[subset]
##         ids &lt;- ids[subset]
##         Z &lt;- Z[subset, , drop = FALSE]
##     }
##     if (anyDuplicated(slab)) 
##         slab &lt;- .make.unique(slab)
##     attr(yi, "slab") &lt;- slab
##     k &lt;- length(yi)
##     if (any(vi &lt;= 0, na.rm = TRUE)) {
##         allvipos &lt;- FALSE
##         if (!vi0) 
##             warning(mstyle$warning("There are outcomes with non-positive sampling variances."), 
##                 call. = FALSE)
##         vi.neg &lt;- vi &lt; 0
##         if (any(vi.neg, na.rm = TRUE)) {
##             vi[vi.neg] &lt;- 0
##             warning(mstyle$warning("Negative sampling variances constrained to zero."), 
##                 call. = FALSE)
##         }
##     }
##     else {
##         allvipos &lt;- TRUE
##     }
##     if (any(weights &lt; 0, na.rm = TRUE)) 
##         stop(mstyle$stop("Negative weights not allowed."))
##     if (any(is.infinite(weights))) 
##         stop(mstyle$stop("Infinite weights not allowed."))
##     ai.f &lt;- ai
##     bi.f &lt;- bi
##     ci.f &lt;- ci
##     di.f &lt;- di
##     x1i.f &lt;- x1i
##     x2i.f &lt;- x2i
##     t1i.f &lt;- t1i
##     t2i.f &lt;- t2i
##     yi.f &lt;- yi
##     vi.f &lt;- vi
##     weights.f &lt;- weights
##     ni.f &lt;- ni
##     mods.f &lt;- mods
##     Z.f &lt;- Z
##     k.f &lt;- k
##     has.na &lt;- is.na(yi) | is.na(vi) | (if (is.null(mods)) 
##         FALSE
##     else apply(is.na(mods), 1, any)) | (if (is.null(Z)) 
##         FALSE
##     else apply(is.na(Z), 1, any)) | (if (is.null(weights)) 
##         FALSE
##     else is.na(weights))
##     not.na &lt;- !has.na
##     if (any(has.na)) {
##         if (verbose &gt; 1) 
##             message(mstyle$message("Handling NAs ..."))
##         if (na.act == "na.omit" || na.act == "na.exclude" || 
##             na.act == "na.pass") {
##             yi &lt;- yi[not.na]
##             vi &lt;- vi[not.na]
##             weights &lt;- weights[not.na]
##             ni &lt;- ni[not.na]
##             mods &lt;- mods[not.na, , drop = FALSE]
##             Z &lt;- Z[not.na, , drop = FALSE]
##             k &lt;- length(yi)
##             warning(mstyle$warning("Studies with NAs omitted from model fitting."), 
##                 call. = FALSE)
##             attr(yi, "measure") &lt;- measure
##             attr(yi, "ni") &lt;- ni
##         }
##         if (na.act == "na.fail") 
##             stop(mstyle$stop("Missing values in data."))
##     }
##     if (k &lt; 1L) 
##         stop(mstyle$stop("Processing terminated since k = 0."))
##     if (k == 1L &amp;&amp; test != "z") {
##         warning(mstyle$warning("Setting argument test=\"z\" since k=1."), 
##             call. = FALSE)
##         test &lt;- "z"
##     }
##     if (is.null(mods) &amp;&amp; !intercept) {
##         warning(mstyle$warning("Must either include an intercept and/or moderators in model.\n  Coerced intercept into the model."), 
##             call. = FALSE)
##         intercept &lt;- TRUE
##     }
##     if (intercept) {
##         X &lt;- cbind(intrcpt = rep(1, k), mods)
##         X.f &lt;- cbind(intrcpt = rep(1, k.f), mods.f)
##     }
##     else {
##         X &lt;- mods
##         X.f &lt;- mods.f
##     }
##     tmp &lt;- try(lm(yi ~ X - 1), silent = TRUE)
##     if (inherits(tmp, "lm")) {
##         coef.na &lt;- is.na(coef(tmp))
##     }
##     else {
##         coef.na &lt;- rep(FALSE, NCOL(X))
##     }
##     if (any(coef.na)) {
##         warning(mstyle$warning("Redundant predictors dropped from the model."), 
##             call. = FALSE)
##         X &lt;- X[, !coef.na, drop = FALSE]
##         X.f &lt;- X.f[, !coef.na, drop = FALSE]
##     }
##     is.int &lt;- apply(X, 2, .is.intercept)
##     if (any(is.int)) {
##         int.incl &lt;- TRUE
##         int.indx &lt;- which(is.int, arr.ind = TRUE)
##         X &lt;- cbind(intrcpt = 1, X[, -int.indx, drop = FALSE])
##         X.f &lt;- cbind(intrcpt = 1, X.f[, -int.indx, drop = FALSE])
##         intercept &lt;- TRUE
##     }
##     else {
##         int.incl &lt;- FALSE
##     }
##     p &lt;- NCOL(X)
##     if ((p == 1L) &amp;&amp; .is.intercept(X)) {
##         int.only &lt;- TRUE
##     }
##     else {
##         int.only &lt;- FALSE
##     }
##     if (!(int.only &amp;&amp; k == 1L)) {
##         if (is.element(method, c("FE", "EE", "CE"))) {
##             if (p &gt; k) 
##                 stop(mstyle$stop("Number of parameters to be estimated is larger than the number of observations."))
##         }
##         else {
##             if (is.numeric(tau2)) {
##                 if (p &gt; k) 
##                   stop(mstyle$stop("Number of parameters to be estimated is larger than the number of observations."))
##             }
##             else {
##                 if ((p + 1) &gt; k) 
##                   stop(mstyle$stop("Number of parameters to be estimated is larger than the number of observations."))
##             }
##         }
##     }
##     btt &lt;- .set.btt(btt, p, int.incl, colnames(X))
##     m &lt;- length(btt)
##     con &lt;- list(verbose = FALSE, tau2.init = NULL, tau2.min = 0, 
##         tau2.max = 100, threshold = 10^-5, tol = .Machine$double.eps^0.25, 
##         ll0check = TRUE, maxiter = 100, stepadj = 1, REMLf = TRUE, 
##         evtol = 1e-07, alpha.init = NULL, optimizer = "nlminb", 
##         optmethod = "BFGS", parallel = list(), cl = NULL, ncpus = 1L, 
##         hessianCtrl = list(r = 8), scaleZ = TRUE)
##     con.pos &lt;- pmatch(names(control), names(con))
##     con[c(na.omit(con.pos))] &lt;- control[!is.na(con.pos)]
##     if (verbose) 
##         con$verbose &lt;- verbose
##     verbose &lt;- con$verbose
##     if (con$tau2.min &lt; 0 &amp;&amp; (-con$tau2.min &gt; min(vi))) {
##         con$tau2.min &lt;- -min(vi)
##         warning(mstyle$warning(paste0("Value of 'tau2.min' constrained to -min(vi) = ", 
##             .fcf(-min(vi), digits[["est"]]), ".")), call. = FALSE)
##     }
##     conv &lt;- 1
##     change &lt;- con$threshold + 1
##     if (any(eigen(crossprod(X), symmetric = TRUE, only.values = TRUE)$values &lt;= 
##         con$evtol)) 
##         stop(mstyle$stop("Model matrix not of full rank. Cannot fit model."))
##     vimaxmin &lt;- max(vi)/min(vi)
##     if (!is.nan(vimaxmin) &amp;&amp; !is.infinite(vimaxmin) &amp;&amp; vimaxmin &gt;= 
##         1/con$evtol) 
##         warning(mstyle$warning("Ratio of largest to smallest sampling variance extremely large. May not be able to obtain stable results."), 
##             call. = FALSE)
##     iter &lt;- 0
##     se.tau2 &lt;- I2 &lt;- H2 &lt;- QE &lt;- QEp &lt;- NA
##     s2w &lt;- 1
##     level &lt;- ifelse(level == 0, 1, ifelse(level &gt;= 1, (100 - 
##         level)/100, ifelse(level &gt; 0.5, 1 - level, level)))
##     Y &lt;- as.matrix(yi)
##     if (model == "rma.uni") {
##         if (is.numeric(tau2) &amp;&amp; !is.element(method, c("FE", "EE", 
##             "CE"))) {
##             tau2.fix &lt;- TRUE
##             tau2.val &lt;- tau2
##         }
##         else {
##             tau2.fix &lt;- FALSE
##             tau2.val &lt;- NA
##         }
##         if (verbose &gt; 1 &amp;&amp; !tau2.fix &amp;&amp; !is.element(method, c("FE", 
##             "EE", "CE"))) 
##             message(mstyle$message("Estimating tau^2 value ...\n"))
##         if (k == 1L) {
##             method.sav &lt;- method
##             method = "k1"
##             if (!tau2.fix) 
##                 tau2 &lt;- 0
##         }
##         if (is.element(method, c("HS", "HSk"))) {
##             if (!allvipos) 
##                 stop(mstyle$stop(method, " estimator cannot be used when there are non-positive sampling variances in the data."))
##             wi &lt;- 1/vi
##             W &lt;- diag(wi, nrow = k, ncol = k)
##             stXWX &lt;- .invcalc(X = X, W = W, k = k)
##             P &lt;- W - W %*% X %*% stXWX %*% crossprod(X, W)
##             RSS &lt;- crossprod(Y, P) %*% Y
##             if (method == "HS") {
##                 tau2 &lt;- ifelse(tau2.fix, tau2.val, (RSS - k)/sum(wi))
##             }
##             else {
##                 tau2 &lt;- ifelse(tau2.fix, tau2.val, (k/(k - p) * 
##                   RSS - k)/sum(wi))
##             }
##         }
##         if (is.element(method, c("HE", "ML", "REML", "EB"))) {
##             stXX &lt;- .invcalc(X = X, W = diag(k), k = k)
##             P &lt;- diag(k) - X %*% tcrossprod(stXX, X)
##             RSS &lt;- crossprod(Y, P) %*% Y
##             V &lt;- diag(vi, nrow = k, ncol = k)
##             PV &lt;- P %*% V
##             trPV &lt;- .tr(PV)
##             tau2 &lt;- ifelse(tau2.fix, tau2.val, (RSS - trPV)/(k - 
##                 p))
##         }
##         if (method == "DL") {
##             if (!allvipos) 
##                 stop(mstyle$stop("DL estimator cannot be used when there are non-positive sampling variances in the data."))
##             wi &lt;- 1/vi
##             W &lt;- diag(wi, nrow = k, ncol = k)
##             stXWX &lt;- .invcalc(X = X, W = W, k = k)
##             P &lt;- W - W %*% X %*% stXWX %*% crossprod(X, W)
##             RSS &lt;- crossprod(Y, P) %*% Y
##             trP &lt;- .tr(P)
##             tau2 &lt;- ifelse(tau2.fix, tau2.val, (RSS - (k - p))/trP)
##         }
##         if (method == "DLIT") {
##             if (is.null(con$tau2.init)) {
##                 tau2 &lt;- 0
##             }
##             else {
##                 tau2 &lt;- con$tau2.init
##             }
##             while (change &gt; con$threshold) {
##                 if (verbose) 
##                   cat(mstyle$verbose(paste("Iteration", iter, 
##                     "\ttau^2 =", .fcf(tau2, digits[["var"]]), 
##                     "\n")))
##                 iter &lt;- iter + 1
##                 old2 &lt;- tau2
##                 wi &lt;- 1/(vi + tau2)
##                 if (any(tau2 + vi &lt; 0)) 
##                   stop(mstyle$stop("Some marginal variances are negative."))
##                 if (any(is.infinite(wi))) 
##                   stop(mstyle$stop("Division by zero when computing the inverse variance weights."))
##                 W &lt;- diag(wi, nrow = k, ncol = k)
##                 stXWX &lt;- .invcalc(X = X, W = W, k = k)
##                 P &lt;- W - W %*% X %*% stXWX %*% crossprod(X, W)
##                 RSS &lt;- crossprod(Y, P) %*% Y
##                 trP &lt;- .tr(P)
##                 tau2 &lt;- ifelse(tau2.fix, tau2.val, (RSS - (k - 
##                   p))/trP)
##                 tau2[tau2 &lt; con$tau2.min] &lt;- con$tau2.min
##                 change &lt;- abs(old2 - tau2)
##                 if (iter &gt; con$maxiter) {
##                   conv &lt;- 0
##                   break
##                 }
##             }
##             if (conv == 0L) 
##                 stop(mstyle$stop("Algorithm did not converge."))
##         }
##         if (method == "GENQ") {
##             if (is.null(weights)) 
##                 stop(mstyle$stop("Must specify 'weights' when method='GENQ'."))
##             A &lt;- diag(weights, nrow = k, ncol = k)
##             stXAX &lt;- .invcalc(X = X, W = A, k = k)
##             P &lt;- A - A %*% X %*% stXAX %*% t(X) %*% A
##             V &lt;- diag(vi, nrow = k, ncol = k)
##             PV &lt;- P %*% V
##             trP &lt;- .tr(P)
##             trPV &lt;- .tr(PV)
##             RSS &lt;- crossprod(Y, P) %*% Y
##             tau2 &lt;- ifelse(tau2.fix, tau2.val, (RSS - trPV)/trP)
##         }
##         if (method == "GENQM") {
##             if (is.null(weights)) 
##                 stop(mstyle$stop("Must specify 'weights' when method='GENQM'."))
##             A &lt;- diag(weights, nrow = k, ncol = k)
##             stXAX &lt;- .invcalc(X = X, W = A, k = k)
##             P &lt;- A - A %*% X %*% stXAX %*% t(X) %*% A
##             V &lt;- diag(vi, nrow = k, ncol = k)
##             PV &lt;- P %*% V
##             trP &lt;- .tr(P)
##             if (!tau2.fix) {
##                 RSS &lt;- crossprod(Y, P) %*% Y
##                 if (.GENQ.func(con$tau2.min, P = P, vi = vi, 
##                   Q = RSS, level = 0, k = k, p = p, getlower = TRUE) &gt; 
##                   0.5) {
##                   tau2 &lt;- con$tau2.min
##                 }
##                 else {
##                   if (.GENQ.func(con$tau2.max, P = P, vi = vi, 
##                     Q = RSS, level = 0, k = k, p = p, getlower = TRUE) &lt; 
##                     0.5) {
##                     stop(mstyle$stop("Value of 'tau2.max' too low. Try increasing 'tau2.max' or switch to another 'method'."))
##                   }
##                   else {
##                     tau2 &lt;- try(uniroot(.GENQ.func, interval = c(con$tau2.min, 
##                       con$tau2.max), tol = con$tol, maxiter = con$maxiter, 
##                       P = P, vi = vi, Q = RSS, level = 0.5, k = k, 
##                       p = p, getlower = FALSE, verbose = verbose, 
##                       digits = digits, extendInt = "no")$root, 
##                       silent = TRUE)
##                     if (inherits(tau2, "try-error")) 
##                       stop(mstyle$stop("Error in iterative search for tau2 using uniroot()."))
##                   }
##                 }
##             }
##             else {
##                 tau2 &lt;- tau2.val
##             }
##             wi &lt;- 1/(vi + tau2)
##         }
##         if (method == "SJ") {
##             if (is.null(con$tau2.init)) {
##                 tau2.0 &lt;- c(var(yi) * (k - 1)/k)
##             }
##             else {
##                 tau2.0 &lt;- con$tau2.init
##             }
##             wi &lt;- 1/(vi + tau2.0)
##             W &lt;- diag(wi, nrow = k, ncol = k)
##             stXWX &lt;- .invcalc(X = X, W = W, k = k)
##             P &lt;- W - W %*% X %*% stXWX %*% crossprod(X, W)
##             RSS &lt;- crossprod(Y, P) %*% Y
##             V &lt;- diag(vi, nrow = k, ncol = k)
##             PV &lt;- P %*% V
##             tau2 &lt;- ifelse(tau2.fix, tau2.val, tau2.0 * RSS/(k - 
##                 p))
##         }
##         if (method == "SJIT") {
##             if (is.null(con$tau2.init)) {
##                 tau2 &lt;- var(yi) * (k - 1)/k
##             }
##             else {
##                 tau2 &lt;- con$tau2.init
##             }
##             tau2.0 &lt;- tau2
##             while (change &gt; con$threshold) {
##                 if (verbose) 
##                   cat(mstyle$verbose(paste("Iteration", iter, 
##                     "\ttau^2 =", .fcf(tau2, digits[["var"]]), 
##                     "\n")))
##                 iter &lt;- iter + 1
##                 old2 &lt;- tau2
##                 wi &lt;- 1/(vi + tau2)
##                 W &lt;- diag(wi, nrow = k, ncol = k)
##                 stXWX &lt;- .invcalc(X = X, W = W, k = k)
##                 P &lt;- W - W %*% X %*% stXWX %*% crossprod(X, W)
##                 RSS &lt;- crossprod(Y, P) %*% Y
##                 V &lt;- diag(vi, nrow = k, ncol = k)
##                 PV &lt;- P %*% V
##                 tau2 &lt;- ifelse(tau2.fix, tau2.val, tau2 * RSS/(k - 
##                   p))
##                 change &lt;- abs(old2 - tau2)
##                 if (iter &gt; con$maxiter) {
##                   conv &lt;- 0
##                   break
##                 }
##             }
##             if (conv == 0L) 
##                 stop(mstyle$stop("Algorithm did not converge."))
##         }
##         if (method == "PM") {
##             if (!allvipos) 
##                 stop(mstyle$stop("PM estimator cannot be used when there are non-positive sampling variances in the data."))
##             if (!tau2.fix) {
##                 if (.QE.func(con$tau2.min, Y = Y, vi = vi, X = X, 
##                   k = k, objective = 0) &lt; k - p) {
##                   tau2 &lt;- con$tau2.min
##                 }
##                 else {
##                   if (.QE.func(con$tau2.max, Y = Y, vi = vi, 
##                     X = X, k = k, objective = 0) &gt; k - p) {
##                     stop(mstyle$stop("Value of 'tau2.max' too low. Try increasing 'tau2.max' or switch to another 'method'."))
##                   }
##                   else {
##                     tau2 &lt;- try(uniroot(.QE.func, interval = c(con$tau2.min, 
##                       con$tau2.max), tol = con$tol, maxiter = con$maxiter, 
##                       Y = Y, vi = vi, X = X, k = k, objective = k - 
##                         p, verbose = verbose, digits = digits, 
##                       extendInt = "no")$root, silent = TRUE)
##                     if (inherits(tau2, "try-error")) 
##                       stop(mstyle$stop("Error in iterative search for tau2 using uniroot()."))
##                   }
##                 }
##             }
##             else {
##                 tau2 &lt;- tau2.val
##             }
##             wi &lt;- 1/(vi + tau2)
##         }
##         if (method == "PMM") {
##             if (!allvipos) 
##                 stop(mstyle$stop("PMM estimator cannot be used when there are non-positive sampling variances in the data."))
##             if (!tau2.fix) {
##                 if (.QE.func(con$tau2.min, Y = Y, vi = vi, X = X, 
##                   k = k, objective = 0) &lt; qchisq(0.5, df = k - 
##                   p)) {
##                   tau2 &lt;- con$tau2.min
##                 }
##                 else {
##                   if (.QE.func(con$tau2.max, Y = Y, vi = vi, 
##                     X = X, k = k, objective = 0) &gt; qchisq(0.5, 
##                     df = k - p)) {
##                     stop(mstyle$stop("Value of 'tau2.max' too low. Try increasing 'tau2.max' or switch to another 'method'."))
##                   }
##                   else {
##                     tau2 &lt;- try(uniroot(.QE.func, interval = c(con$tau2.min, 
##                       con$tau2.max), tol = con$tol, maxiter = con$maxiter, 
##                       Y = Y, vi = vi, X = X, k = k, objective = qchisq(0.5, 
##                         df = k - p), verbose = verbose, digits = digits, 
##                       extendInt = "no")$root, silent = TRUE)
##                     if (inherits(tau2, "try-error")) 
##                       stop(mstyle$stop("Error in iterative search for tau2. Try increasing 'tau2.max' or switch to another 'method'."))
##                   }
##                 }
##             }
##             else {
##                 tau2 &lt;- tau2.val
##             }
##             wi &lt;- 1/(vi + tau2)
##         }
##         if (is.element(method, c("ML", "REML", "EB"))) {
##             if (is.null(con$tau2.init)) {
##                 tau2 &lt;- max(0, tau2, con$tau2.min)
##             }
##             else {
##                 tau2 &lt;- con$tau2.init
##             }
##             while (change &gt; con$threshold) {
##                 if (verbose) 
##                   cat(mstyle$verbose(paste(mstyle$verbose(paste("Iteration", 
##                     iter, "\ttau^2 =", .fcf(tau2, digits[["var"]]), 
##                     "\n")))))
##                 iter &lt;- iter + 1
##                 old2 &lt;- tau2
##                 wi &lt;- 1/(vi + tau2)
##                 if (any(tau2 + vi &lt; 0)) 
##                   stop(mstyle$stop("Some marginal variances are negative."))
##                 if (any(is.infinite(wi))) 
##                   stop(mstyle$stop("Division by zero when computing the inverse variance weights."))
##                 W &lt;- diag(wi, nrow = k, ncol = k)
##                 stXWX &lt;- .invcalc(X = X, W = W, k = k)
##                 P &lt;- W - W %*% X %*% stXWX %*% crossprod(X, W)
##                 if (method == "ML") {
##                   PP &lt;- P %*% P
##                   adj &lt;- (crossprod(Y, PP) %*% Y - sum(wi))/sum(wi^2)
##                 }
##                 if (method == "REML") {
##                   PP &lt;- P %*% P
##                   adj &lt;- (crossprod(Y, PP) %*% Y - .tr(P))/.tr(PP)
##                 }
##                 if (method == "EB") {
##                   adj &lt;- (crossprod(Y, P) %*% Y * k/(k - p) - 
##                     k)/sum(wi)
##                 }
##                 adj &lt;- adj * con$stepadj
##                 while (tau2 + adj &lt; con$tau2.min) adj &lt;- adj/2
##                 tau2 &lt;- ifelse(tau2.fix, tau2.val, tau2 + adj)
##                 change &lt;- abs(old2 - tau2)
##                 if (iter &gt; con$maxiter) {
##                   conv &lt;- 0
##                   break
##                 }
##             }
##             if (conv == 0L) 
##                 stop(mstyle$stop("Fisher scoring algorithm did not converge. See 'help(rma)' for possible remedies."))
##             if (is.element(method, c("ML", "REML")) &amp;&amp; con$ll0check &amp;&amp; 
##                 allvipos &amp;&amp; !tau2.fix) {
##                 wi &lt;- 1/vi
##                 W &lt;- diag(wi, nrow = k, ncol = k)
##                 stXWX &lt;- .invcalc(X = X, W = W, k = k)
##                 beta &lt;- stXWX %*% crossprod(X, W) %*% Y
##                 RSS &lt;- sum(wi * (yi - X %*% beta)^2)
##                 if (method == "ML") 
##                   ll0 &lt;- -1/2 * (k) * log(2 * base::pi) - 1/2 * 
##                     sum(log(vi)) - 1/2 * RSS
##                 if (method == "REML") 
##                   ll0 &lt;- -1/2 * (k - p) * log(2 * base::pi) - 
##                     1/2 * sum(log(vi)) - 1/2 * determinant(crossprod(X, 
##                     W) %*% X, logarithm = TRUE)$modulus - 1/2 * 
##                     RSS
##                 wi &lt;- 1/(vi + tau2)
##                 if (any(tau2 + vi &lt; 0)) 
##                   stop(mstyle$stop("Some marginal variances are negative."))
##                 if (any(is.infinite(wi))) 
##                   stop(mstyle$stop("Division by zero when computing the inverse variance weights."))
##                 W &lt;- diag(wi, nrow = k, ncol = k)
##                 stXWX &lt;- .invcalc(X = X, W = W, k = k)
##                 beta &lt;- stXWX %*% crossprod(X, W) %*% Y
##                 RSS &lt;- sum(wi * (yi - X %*% beta)^2)
##                 if (method == "ML") 
##                   ll &lt;- -1/2 * (k) * log(2 * base::pi) - 1/2 * 
##                     sum(log(vi + tau2)) - 1/2 * RSS
##                 if (method == "REML") 
##                   ll &lt;- -1/2 * (k - p) * log(2 * base::pi) - 
##                     1/2 * sum(log(vi + tau2)) - 1/2 * determinant(crossprod(X, 
##                     W) %*% X, logarithm = TRUE)$modulus - 1/2 * 
##                     RSS
##                 if (ll0 - ll &gt; con$tol &amp;&amp; tau2 &gt; con$threshold) {
##                   warning(mstyle$warning("Fisher scoring algorithm may have gotten stuck at a local maximum.\n  Setting tau^2 = 0. Check the profile likelihood plot with profile()."), 
##                     call. = FALSE)
##                   tau2 &lt;- 0
##                 }
##             }
##             wi &lt;- 1/(vi + tau2)
##             if (any(tau2 + vi &lt; 0)) 
##                 stop(mstyle$stop("Some marginal variances are negative."))
##             if (any(is.infinite(wi))) 
##                 stop(mstyle$stop("Division by zero when computing the inverse variance weights."))
##             W &lt;- diag(wi, nrow = k, ncol = k)
##             stXWX &lt;- .invcalc(X = X, W = W, k = k)
##             P &lt;- W - W %*% X %*% stXWX %*% crossprod(X, W)
##         }
##         tau2 &lt;- max(con$tau2.min, c(tau2))
##         if (!is.na(tau2) &amp;&amp; any(tau2 + vi &lt; 0)) 
##             stop(mstyle$stop("Some marginal variances are negative."))
##         if (verbose &amp;&amp; is.element(method, c("ML", "REML", "EB"))) {
##             cat(mstyle$verbose(paste("Iteration", iter, "\ttau^2 =", 
##                 .fcf(tau2, digits[["var"]]), "\n")))
##             cat(mstyle$verbose(paste("Fisher scoring algorithm converged after", 
##                 iter, "iterations.\n")))
##         }
##         if (method == "HS") 
##             se.tau2 &lt;- sqrt(1/sum(wi)^2 * (2 * (k - p) + 4 * 
##                 max(tau2, 0) * .tr(P) + 2 * max(tau2, 0)^2 * 
##                 sum(P * P)))
##         if (method == "HSk") 
##             se.tau2 &lt;- k/(k - p) * sqrt(1/sum(wi)^2 * (2 * (k - 
##                 p) + 4 * max(tau2, 0) * .tr(P) + 2 * max(tau2, 
##                 0)^2 * sum(P * P)))
##         if (method == "HE") 
##             se.tau2 &lt;- sqrt(1/(k - p)^2 * (2 * sum(PV * t(PV)) + 
##                 4 * max(tau2, 0) * trPV + 2 * max(tau2, 0)^2 * 
##                 (k - p)))
##         if (method == "DL" || method == "DLIT") 
##             se.tau2 &lt;- sqrt(1/trP^2 * (2 * (k - p) + 4 * max(tau2, 
##                 0) * trP + 2 * max(tau2, 0)^2 * sum(P * P)))
##         if (method == "GENQ" || method == "GENQM") 
##             se.tau2 &lt;- sqrt(1/trP^2 * (2 * sum(PV * t(PV)) + 
##                 4 * max(tau2, 0) * sum(PV * P) + 2 * max(tau2, 
##                 0)^2 * sum(P * P)))
##         if (method == "SJ") 
##             se.tau2 &lt;- sqrt(tau2.0^2/(k - p)^2 * (2 * sum(PV * 
##                 t(PV)) + 4 * max(tau2, 0) * sum(PV * P) + 2 * 
##                 max(tau2, 0)^2 * sum(P * P)))
##         if (method == "ML") 
##             se.tau2 &lt;- sqrt(2/sum(wi^2))
##         if (method == "REML") 
##             se.tau2 &lt;- sqrt(2/sum(P * P))
##         if (method == "EB" || method == "PM" || method == "PMM" || 
##             method == "SJIT") {
##             se.tau2 &lt;- sqrt(2 * k^2/(k - p)/sum(wi)^2)
##         }
##         if (k == 1L) 
##             method &lt;- method.sav
##     }
##     if (model == "rma.ls") {
##         if (!is.element(method, c("ML", "REML"))) 
##             stop(mstyle$stop("Location-scale models can only be fitted with ML or REML estimation."))
##         tau2.fix &lt;- FALSE
##         if (is.numeric(tau2)) 
##             warning(mstyle$warning("Argument 'tau2' ignored for location-scale models."), 
##                 call. = FALSE)
##         optimizer &lt;- match.arg(con$optimizer, c("optim", "nlminb", 
##             "uobyqa", "newuoa", "bobyqa", "nloptr", "nlm", "hjk", 
##             "nmk", "mads", "ucminf", "optimParallel", "constrOptim"))
##         optmethod &lt;- match.arg(con$optmethod, c("Nelder-Mead", 
##             "BFGS", "CG", "L-BFGS-B", "SANN", "Brent"))
##         parallel &lt;- con$parallel
##         cl &lt;- con$cl
##         ncpus &lt;- con$ncpus
##         optcontrol &lt;- control[is.na(con.pos)]
##         if (length(optcontrol) == 0L) 
##             optcontrol &lt;- list()
##         if (ncpus &gt; 1L) 
##             optimizer &lt;- "optimParallel"
##         if (link == "identity") 
##             optimizer &lt;- "constrOptim"
##         if (link == "log" &amp;&amp; optimizer == "constrOptim") 
##             stop(mstyle$stop("Cannot use 'constrOptim' optimizer when using a log link."))
##         reml &lt;- ifelse(method == "REML", TRUE, FALSE)
##         if (optimizer == "nloptr" &amp;&amp; !is.element("algorithm", 
##             names(optcontrol))) 
##             optcontrol$algorithm &lt;- "NLOPT_LN_BOBYQA"
##         if (optimizer == "nloptr" &amp;&amp; !is.element("ftol_rel", 
##             names(optcontrol))) 
##             optcontrol$ftol_rel &lt;- 1e-08
##         if (optimizer == "mads" &amp;&amp; !is.element("trace", names(optcontrol))) 
##             optcontrol$trace &lt;- FALSE
##         if (optimizer == "mads" &amp;&amp; !is.element("tol", names(optcontrol))) 
##             optcontrol$tol &lt;- 1e-06
##         if (is.element(optimizer, c("uobyqa", "newuoa", "bobyqa"))) {
##             if (!requireNamespace("minqa", quietly = TRUE)) 
##                 stop(mstyle$stop("Please install the 'minqa' package to use this optimizer."))
##         }
##         if (optimizer == "nloptr") {
##             if (!requireNamespace("nloptr", quietly = TRUE)) 
##                 stop(mstyle$stop("Please install the 'nloptr' package to use this optimizer."))
##         }
##         if (is.element(optimizer, c("hjk", "nmk", "mads"))) {
##             if (!requireNamespace("dfoptim", quietly = TRUE)) 
##                 stop(mstyle$stop("Please install the 'dfoptim' package to use this optimizer."))
##         }
##         if (optimizer == "ucminf") {
##             if (!requireNamespace("ucminf", quietly = TRUE)) 
##                 stop(mstyle$stop("Please install the 'ucminf' package to use this optimizer."))
##         }
##         if (optimizer == "optimParallel") {
##             if (!requireNamespace("optimParallel", quietly = TRUE)) 
##                 stop(mstyle$stop("Please install the 'optimParallel' package to use this optimizer."))
##         }
##         if (!isTRUE(ddd$skiphes) &amp;&amp; !requireNamespace("numDeriv", 
##             quietly = TRUE)) 
##             stop(mstyle$stop("Please install the 'numDeriv' package to compute the Hessian."))
##         tmp &lt;- try(lm(yi ~ Z - 1), silent = TRUE)
##         if (inherits(tmp, "lm")) {
##             coef.na.Z &lt;- is.na(coef(tmp))
##         }
##         else {
##             coef.na.Z &lt;- rep(FALSE, NCOL(Z))
##         }
##         if (any(coef.na.Z)) {
##             warning(mstyle$warning("Redundant predictors dropped from the scale model."), 
##                 call. = FALSE)
##             Z &lt;- Z[, !coef.na.Z, drop = FALSE]
##             Z.f &lt;- Z.f[, !coef.na.Z, drop = FALSE]
##         }
##         is.int &lt;- apply(Z, 2, .is.intercept)
##         if (any(is.int)) {
##             Z.int.incl &lt;- TRUE
##             int.indx &lt;- which(is.int, arr.ind = TRUE)
##             Z &lt;- cbind(intrcpt = 1, Z[, -int.indx, drop = FALSE])
##             Z.f &lt;- cbind(intrcpt = 1, Z.f[, -int.indx, drop = FALSE])
##             Z.intercept &lt;- TRUE
##         }
##         else {
##             Z.int.incl &lt;- FALSE
##         }
##         q &lt;- NCOL(Z)
##         if (any(eigen(crossprod(Z), symmetric = TRUE, only.values = TRUE)$values &lt;= 
##             con$evtol)) 
##             stop(mstyle$stop("Model matrix for scale part of the model not of full rank. Cannot fit model."))
##         is.int &lt;- apply(Z, 2, .is.intercept)
##         if ((q == 1L) &amp;&amp; is.int) {
##             Z.int.only &lt;- TRUE
##         }
##         else {
##             Z.int.only &lt;- FALSE
##         }
##         if (missing(alpha) || is.null(alpha) || all(is.na(alpha))) {
##             alpha &lt;- rep(NA, q)
##         }
##         else {
##             if (length(alpha) == 1L) 
##                 alpha &lt;- rep(alpha, q)
##             if (length(alpha) != q) 
##                 stop(mstyle$stop(paste0("Length of 'alpha' argument (", 
##                   length(alpha), ") does not match actual number of parameters (", 
##                   q, ").")))
##         }
##         if (!Z.int.only &amp;&amp; Z.int.incl &amp;&amp; con$scaleZ &amp;&amp; is.na(alpha[1])) {
##             Zsave &lt;- Z
##             meanZ &lt;- colMeans(Z[, 2:q, drop = FALSE])
##             sdZ &lt;- apply(Z[, 2:q, drop = FALSE], 2, sd)
##             is.d &lt;- apply(Z, 2, .is.dummy)
##             mZ &lt;- rbind(c(intrcpt = 1, -1 * ifelse(is.d[-1], 
##                 0, meanZ/sdZ)), cbind(0, diag(ifelse(is.d[-1], 
##                 1, 1/sdZ), nrow = length(is.d) - 1, ncol = length(is.d) - 
##                 1)))
##             imZ &lt;- try(suppressWarnings(solve(mZ)), silent = TRUE)
##             Z[, !is.d] &lt;- apply(Z[, !is.d, drop = FALSE], 2, 
##                 scale)
##             if (any(!is.na(alpha))) {
##                 if (inherits(imZ, "try-error")) 
##                   stop(mstyle$stop("Unable to rescale starting values for the scale parameters."))
##                 alpha &lt;- diag(imZ) * alpha
##             }
##         }
##         else {
##             mZ &lt;- NULL
##         }
##         if (k == 1L &amp;&amp; Z.int.only) {
##             if (link == "log") 
##                 con$alpha.init &lt;- -10000
##             if (link == "identity") 
##                 con$alpha.init &lt;- 1e-05
##         }
##         if (verbose &gt; 1) 
##             message(mstyle$message("Extracting/computing initial values ..."))
##         if (is.null(con$alpha.init)) {
##             fit &lt;- suppressWarnings(rma.uni(yi, vi, mods = X, 
##                 intercept = FALSE, method = "HE", skipr2 = TRUE))
##             tmp &lt;- rstandard(fit)
##             if (link == "log") {
##                 tmp &lt;- suppressWarnings(rma.uni(log(tmp$resid^2), 
##                   4/tmp$resid^2 * tmp$se^2, mods = Z, intercept = FALSE, 
##                   method = "FE"))
##                 alpha.init &lt;- coef(tmp)
##             }
##             if (link == "identity") {
##                 tmp &lt;- suppressWarnings(rma.uni(tmp$resid^2, 
##                   tmp$se^2, mods = Z, intercept = FALSE, method = "FE"))
##                 alpha.init &lt;- coef(tmp)
##                 if (any(Z %*% alpha.init &lt; 0)) 
##                   alpha.init &lt;- ifelse(is.int, fit$tau2 + 0.01, 
##                     0)
##                 if (any(Z %*% alpha.init &lt; 0)) 
##                   stop(mstyle$stop("Unable to find suitable starting values for the scale parameters."))
##             }
##         }
##         else {
##             alpha.init &lt;- con$alpha.init
##             if (!Z.int.only &amp;&amp; Z.int.incl &amp;&amp; con$scaleZ &amp;&amp; is.na(alpha[1])) {
##                 if (inherits(imZ, "try-error")) 
##                   stop(mstyle$stop("Unable to rescale starting values for the scale parameters."))
##                 alpha.init &lt;- c(imZ %*% cbind(alpha.init))
##             }
##             if (link == "identity" &amp;&amp; any(Z %*% alpha.init &lt; 
##                 0)) 
##                 stop(mstyle$stop("Starting values for the scale parameters lead to one or more negative tau^2 values."))
##         }
##         if (length(alpha.init) != q) 
##             stop(mstyle$stop(paste0("Length of 'alpha.init' argument (", 
##                 length(alpha.init), ") does not match actual number of parameters (", 
##                 q, ").")))
##         if (anyNA(alpha.init)) 
##             stop(mstyle$stop("No missing values allowed in 'alpha.init'."))
##         if (verbose &gt; 1) 
##             message(mstyle$message("Estimating scale parameters ...\n"))
##         if (is.element(optimizer, c("optim", "constrOptim"))) {
##             par.arg &lt;- "par"
##             ctrl.arg &lt;- ", control=optcontrol"
##         }
##         if (optimizer == "nlminb") {
##             par.arg &lt;- "start"
##             ctrl.arg &lt;- ", control=optcontrol"
##         }
##         if (is.element(optimizer, c("uobyqa", "newuoa", "bobyqa"))) {
##             par.arg &lt;- "par"
##             optimizer &lt;- paste0("minqa::", optimizer)
##             ctrl.arg &lt;- ", control=optcontrol"
##         }
##         if (optimizer == "nloptr") {
##             par.arg &lt;- "x0"
##             optimizer &lt;- paste0("nloptr::nloptr")
##             ctrl.arg &lt;- ", opts=optcontrol"
##         }
##         if (optimizer == "nlm") {
##             par.arg &lt;- "p"
##             ctrl.arg &lt;- paste(names(optcontrol), unlist(optcontrol), 
##                 sep = "=", collapse = ", ")
##             if (nchar(ctrl.arg) != 0L) 
##                 ctrl.arg &lt;- paste0(", ", ctrl.arg)
##         }
##         if (is.element(optimizer, c("hjk", "nmk", "mads"))) {
##             par.arg &lt;- "par"
##             optimizer &lt;- paste0("dfoptim::", optimizer)
##             ctrl.arg &lt;- ", control=optcontrol"
##         }
##         if (optimizer == "ucminf") {
##             par.arg &lt;- "par"
##             optimizer &lt;- paste0("ucminf::ucminf")
##             ctrl.arg &lt;- ", control=optcontrol"
##         }
##         if (optimizer == "optimParallel") {
##             par.arg &lt;- "par"
##             optimizer &lt;- paste0("optimParallel::optimParallel")
##             ctrl.arg &lt;- ", control=optcontrol, parallel=parallel"
##             parallel$cl &lt;- NULL
##             if (is.null(cl)) {
##                 ncpus &lt;- as.integer(ncpus)
##                 if (ncpus &lt; 1L) 
##                   stop(mstyle$stop("Control argument 'ncpus' must be &gt;= 1."))
##                 cl &lt;- parallel::makePSOCKcluster(ncpus)
##                 on.exit(parallel::stopCluster(cl), add = TRUE)
##             }
##             else {
##                 if (!inherits(cl, "SOCKcluster")) 
##                   stop(mstyle$stop("Specified cluster is not of class 'SOCKcluster'."))
##             }
##             parallel$cl &lt;- cl
##             if (is.null(parallel$forward)) 
##                 parallel$forward &lt;- FALSE
##             if (is.null(parallel$loginfo)) {
##                 if (verbose) {
##                   parallel$loginfo &lt;- TRUE
##                 }
##                 else {
##                   parallel$loginfo &lt;- FALSE
##                 }
##             }
##         }
##         if (link == "log") {
##             optcall &lt;- paste(optimizer, "(", par.arg, "=alpha.init, .ll.rma.ls, ", 
##                 ifelse(optimizer == "optim", "method=optmethod, ", 
##                   ""), "yi=yi, vi=vi, X=X, Z=Z, reml=reml, k=k, pX=p, alpha.val=alpha, verbose=verbose, digits=digits,\n                                                       #hessian=TRUE,\n                                                       REMLf=con$REMLf, link=link, mZ=mZ", 
##                 ctrl.arg, ")\n", sep = "")
##         }
##         if (link == "identity") {
##             optcall &lt;- paste0("constrOptim(theta=alpha.init, f=.ll.rma.ls, grad=NULL, ui=Z, ci=rep(0,k),\n                                yi=yi, vi=vi, X=X, Z=Z, reml=reml, k=k, pX=p, alpha.val=alpha, verbose=verbose, digits=digits,\n                                REMLf=con$REMLf, link=link, mZ=mZ", 
##                 ctrl.arg, ")\n")
##         }
##         if (verbose) {
##             opt.res &lt;- try(eval(parse(text = optcall)), silent = !verbose)
##         }
##         else {
##             opt.res &lt;- try(suppressWarnings(eval(parse(text = optcall))), 
##                 silent = !verbose)
##         }
##         if (optimizer == "optimParallel::optimParallel" &amp;&amp; verbose) {
##             tmp &lt;- capture.output(print(opt.res$loginfo))
##             .print.output(tmp, mstyle$verbose)
##         }
##         if (inherits(opt.res, "try-error")) 
##             stop(mstyle$stop("Error during the optimization. Use verbose=TRUE and see help(rma) for more details on the optimization routines."))
##         if (is.element(optimizer, c("optim", "constrOptim", "nlminb", 
##             "dfoptim::hjk", "dfoptim::nmk", "optimParallel::optimParallel")) &amp;&amp; 
##             opt.res$convergence != 0) 
##             stop(mstyle$stop(paste0("Optimizer (", optimizer, 
##                 ") did not achieve convergence (convergence = ", 
##                 opt.res$convergence, ").")))
##         if (is.element(optimizer, c("dfoptim::mads")) &amp;&amp; opt.res$convergence &gt; 
##             optcontrol$tol) 
##             stop(mstyle$stop(paste0("Optimizer (", optimizer, 
##                 ") did not achieve convergence (convergence = ", 
##                 opt.res$convergence, ").")))
##         if (is.element(optimizer, c("minqa::uobyqa", "minqa::newuoa", 
##             "minqa::bobyqa")) &amp;&amp; opt.res$ierr != 0) 
##             stop(mstyle$stop(paste0("Optimizer (", optimizer, 
##                 ") did not achieve convergence (ierr = ", opt.res$ierr, 
##                 ").")))
##         if (optimizer == "nloptr::nloptr" &amp;&amp; !(opt.res$status &gt;= 
##             1 &amp;&amp; opt.res$status &lt;= 4)) 
##             stop(mstyle$stop(paste0("Optimizer (", optimizer, 
##                 ") did not achieve convergence (status = ", opt.res$status, 
##                 ").")))
##         if (optimizer == "ucminf::ucminf" &amp;&amp; !(opt.res$convergence == 
##             1 || opt.res$convergence == 2)) 
##             stop(mstyle$stop(paste0("Optimizer (", optimizer, 
##                 ") did not achieve convergence (convergence = ", 
##                 opt.res$convergence, ").")))
##         if (verbose &gt; 2) {
##             cat("\n")
##             tmp &lt;- capture.output(print(opt.res))
##             .print.output(tmp, mstyle$verbose)
##         }
##         if (optimizer == "nloptr::nloptr") 
##             opt.res$par &lt;- opt.res$solution
##         if (optimizer == "nlm") 
##             opt.res$par &lt;- opt.res$estimate
##         opt.res$par &lt;- ifelse(is.na(alpha), opt.res$par, alpha)
##         H &lt;- NA
##         va &lt;- matrix(NA_real_, nrow = q, ncol = q)
##         hest &lt;- is.na(alpha)
##         if (any(hest) &amp;&amp; !isTRUE(ddd$skiphes)) {
##             if (verbose &gt; 1) 
##                 message(mstyle$message("\nComputing Hessian ..."))
##             H &lt;- try(numDeriv::hessian(func = .ll.rma.ls, x = opt.res$par, 
##                 method.args = con$hessianCtrl, yi = yi, vi = vi, 
##                 X = X, Z = Z, reml = reml, k = k, pX = p, alpha.val = alpha, 
##                 verbose = FALSE, digits = digits, REMLf = con$REMLf, 
##                 link = link, mZ = mZ), silent = TRUE)
##             if (inherits(H, "try-error")) {
##                 warning(mstyle$warning("Error when trying to compute Hessian."), 
##                   call. = FALSE)
##             }
##             else {
##                 H.hest &lt;- H[hest, hest, drop = FALSE]
##                 iH.hest &lt;- try(suppressWarnings(chol2inv(chol(H.hest))), 
##                   silent = TRUE)
##                 if (inherits(iH.hest, "try-error") || anyNA(iH.hest) || 
##                   any(is.infinite(iH.hest))) {
##                   warning(mstyle$warning("Error when trying to invert Hessian."), 
##                     call. = FALSE)
##                 }
##                 else {
##                   va[hest, hest] &lt;- iH.hest
##                 }
##             }
##         }
##         alpha.val &lt;- alpha
##         alpha &lt;- cbind(opt.res$par)
##         if (!Z.int.only &amp;&amp; Z.int.incl &amp;&amp; con$scaleZ &amp;&amp; is.na(alpha.val[1])) {
##             alpha &lt;- mZ %*% alpha
##             va[!hest, ] &lt;- 0
##             va[, !hest] &lt;- 0
##             va &lt;- mZ %*% va %*% t(mZ)
##             va[!hest, ] &lt;- NA
##             va[, !hest] &lt;- NA
##             Z &lt;- Zsave
##         }
##         att &lt;- .set.btt(att, q, Z.int.incl, colnames(Z))
##         m.alpha &lt;- length(att)
##         if (test == "t") {
##             ddf.alpha &lt;- k - q
##         }
##         else {
##             ddf.alpha &lt;- NA
##         }
##         QS &lt;- try(as.vector(t(alpha)[att] %*% chol2inv(chol(va[att, 
##             att])) %*% alpha[att]), silent = TRUE)
##         if (inherits(QS, "try-error")) 
##             QS &lt;- NA
##         se.alpha &lt;- sqrt(diag(va))
##         rownames(alpha) &lt;- rownames(va) &lt;- colnames(va) &lt;- colnames(Z)
##         names(se.alpha) &lt;- NULL
##         zval.alpha &lt;- c(alpha/se.alpha)
##         if (test == "t") {
##             QS &lt;- QS/m.alpha
##             QSdf &lt;- c(m.alpha, k - q)
##             QSp &lt;- if (QSdf[2] &gt; 0) 
##                 pf(QS, df1 = QSdf[1], df2 = QSdf[2], lower.tail = FALSE)
##             else NA
##             pval.alpha &lt;- if (ddf.alpha &gt; 0) 
##                 2 * pt(abs(zval.alpha), df = ddf.alpha, lower.tail = FALSE)
##             else rep(NA, q)
##             crit.alpha &lt;- if (ddf.alpha &gt; 0) 
##                 qt(level/2, df = ddf.alpha, lower.tail = FALSE)
##             else NA
##         }
##         else {
##             QSdf &lt;- c(m.alpha, NA)
##             QSp &lt;- pchisq(QS, df = QSdf[1], lower.tail = FALSE)
##             pval.alpha &lt;- 2 * pnorm(abs(zval.alpha), lower.tail = FALSE)
##             crit.alpha &lt;- qnorm(level/2, lower.tail = FALSE)
##         }
##         ci.lb.alpha &lt;- c(alpha - crit.alpha * se.alpha)
##         ci.ub.alpha &lt;- c(alpha + crit.alpha * se.alpha)
##         if (link == "log") 
##             tau2 &lt;- exp(as.vector(Z %*% alpha))
##         if (link == "identity") 
##             tau2 &lt;- as.vector(Z %*% alpha)
##     }
##     if (is.element(method, c("FE", "EE", "CE"))) 
##         tau2 &lt;- 0
##     if (verbose &gt; 1) 
##         message(mstyle$message("\nModel fitting ..."))
##     wi &lt;- 1/(vi + tau2)
##     W &lt;- diag(wi, nrow = k, ncol = k)
##     M &lt;- diag(vi + tau2, nrow = k, ncol = k)
##     if (weighted) {
##         if (is.null(weights) || is.element(test, c("knha", "adhoc"))) {
##             if (any(is.infinite(wi))) 
##                 stop(mstyle$stop("Division by zero when computing the inverse variance weights."))
##             stXWX &lt;- .invcalc(X = X, W = W, k = k)
##             beta &lt;- stXWX %*% crossprod(X, W) %*% Y
##             vb &lt;- stXWX
##             RSS.f &lt;- sum(wi * (yi - X %*% beta)^2)
##             RSS.knha &lt;- RSS.f
##         }
##         if (!is.null(weights)) {
##             A &lt;- diag(weights, nrow = k, ncol = k)
##             stXAX &lt;- .invcalc(X = X, W = A, k = k)
##             beta &lt;- stXAX %*% crossprod(X, A) %*% Y
##             vb &lt;- stXAX %*% t(X) %*% A %*% M %*% A %*% X %*% 
##                 stXAX
##             RSS.f &lt;- sum(wi * (yi - X %*% beta)^2)
##         }
##         if (is.element(test, c("knha", "adhoc"))) {
##             if (RSS.knha &lt;= .Machine$double.eps) {
##                 s2w &lt;- 0
##             }
##             else {
##                 s2w &lt;- RSS.knha/(k - p)
##             }
##         }
##     }
##     else {
##         stXX &lt;- .invcalc(X = X, W = diag(k), k = k)
##         beta &lt;- stXX %*% crossprod(X, Y)
##         vb &lt;- tcrossprod(stXX, X) %*% M %*% X %*% stXX
##         RSS.f &lt;- sum(wi * (yi - X %*% beta)^2)
##         if (is.element(test, c("knha", "adhoc"))) {
##             if (any(is.infinite(wi))) 
##                 stop(mstyle$stop("Division by zero when computing the inverse variance weights."))
##             stXWX &lt;- .invcalc(X = X, W = W, k = k)
##             beta.knha &lt;- stXWX %*% crossprod(X, W) %*% Y
##             RSS.knha &lt;- sum(wi * (yi - X %*% beta.knha)^2)
##             if (RSS.knha &lt;= .Machine$double.eps) {
##                 s2w &lt;- 0
##             }
##             else {
##                 s2w &lt;- RSS.knha/(k - p)
##             }
##         }
##     }
##     if (verbose &gt; 1) 
##         message(mstyle$message("Conducting tests of the fixed effects ..."))
##     if (is.element(method, c("FE", "EE", "CE")) &amp;&amp; is.element(test, 
##         c("knha", "adhoc"))) 
##         warning(mstyle$warning("Knapp &amp; Hartung method is not meant to be used in the context of FE models."), 
##             call. = FALSE)
##     if (test == "adhoc") 
##         s2w[s2w &lt; 1] &lt;- 1
##     vb &lt;- s2w * vb
##     if (is.element(test, c("knha", "adhoc", "t"))) {
##         ddf &lt;- k - p
##     }
##     else {
##         ddf &lt;- NA
##     }
##     QM &lt;- try(as.vector(t(beta)[btt] %*% chol2inv(chol(vb[btt, 
##         btt])) %*% beta[btt]), silent = TRUE)
##     if (inherits(QM, "try-error")) 
##         QM &lt;- NA
##     rownames(beta) &lt;- rownames(vb) &lt;- colnames(vb) &lt;- colnames(X)
##     se &lt;- sqrt(diag(vb))
##     names(se) &lt;- NULL
##     zval &lt;- c(beta/se)
##     if (is.element(test, c("knha", "adhoc", "t"))) {
##         QM &lt;- QM/m
##         QMdf &lt;- c(m, k - p)
##         QMp &lt;- if (QMdf[2] &gt; 0) 
##             pf(QM, df1 = QMdf[1], df2 = QMdf[2], lower.tail = FALSE)
##         else NA
##         pval &lt;- if (ddf &gt; 0) 
##             2 * pt(abs(zval), df = ddf, lower.tail = FALSE)
##         else rep(NA, p)
##         crit &lt;- if (ddf &gt; 0) 
##             qt(level/2, df = ddf, lower.tail = FALSE)
##         else NA
##     }
##     else {
##         QMdf &lt;- c(m, NA)
##         QMp &lt;- pchisq(QM, df = QMdf[1], lower.tail = FALSE)
##         pval &lt;- 2 * pnorm(abs(zval), lower.tail = FALSE)
##         crit &lt;- qnorm(level/2, lower.tail = FALSE)
##     }
##     ci.lb &lt;- c(beta - crit * se)
##     ci.ub &lt;- c(beta + crit * se)
##     if (verbose &gt; 1) 
##         message(mstyle$message("Conducting heterogeneity test ..."))
##     if (allvipos) {
##         if (k &gt; p) {
##             wi &lt;- 1/vi
##             W.FE &lt;- diag(wi, nrow = k, ncol = k)
##             stXWX &lt;- .invcalc(X = X, W = W.FE, k = k)
##             P &lt;- W.FE - W.FE %*% X %*% stXWX %*% crossprod(X, 
##                 W.FE)
##             QE &lt;- max(0, c(crossprod(Y, P) %*% Y))
##             QEp &lt;- pchisq(QE, df = k - p, lower.tail = FALSE)
##             vt &lt;- (k - p)/.tr(P)
##             if (is.element(method, c("FE", "EE", "CE"))) {
##                 I2 &lt;- max(0, 100 * (QE - (k - p))/QE)
##                 H2 &lt;- QE/(k - p)
##             }
##             else {
##                 I2 &lt;- 100 * tau2/(vt + tau2)
##                 H2 &lt;- tau2/vt + 1
##             }
##         }
##         else {
##             QE &lt;- 0
##             QEp &lt;- 1
##             I2 &lt;- 0
##             H2 &lt;- 1
##             vt &lt;- 0
##         }
##     }
##     else {
##         if (!vi0) 
##             warning(mstyle$warning(paste0("Cannot compute ", 
##                 ifelse(int.only, "Q", "QE"), "-test, I^2, or H^2 when there are non-positive sampling variances in the data.")), 
##                 call. = FALSE)
##         vt &lt;- NA
##     }
##     if (!int.only &amp;&amp; int.incl &amp;&amp; !is.element(method, c("FE", 
##         "EE", "CE")) &amp;&amp; model == "rma.uni" &amp;&amp; !isTRUE(ddd$skipr2)) {
##         if (verbose &gt; 1) {
##             message(mstyle$message("Fitting RE model for R^2 computation ..."))
##             res.RE &lt;- try(rma.uni(yi, vi, weights = weights, 
##                 method = method, weighted = weighted, test = test, 
##                 verbose = ifelse(verbose, TRUE, FALSE), control = con, 
##                 digits = digits), silent = FALSE)
##         }
##         else {
##             res.RE &lt;- try(suppressWarnings(rma.uni(yi, vi, weights = weights, 
##                 method = method, weighted = weighted, test = test, 
##                 verbose = ifelse(verbose, TRUE, FALSE), control = con, 
##                 digits = digits)), silent = TRUE)
##         }
##         if (!inherits(res.RE, "try-error")) {
##             tau2.RE &lt;- res.RE$tau2
##             if (identical(tau2.RE, 0)) {
##                 R2 &lt;- 0
##             }
##             else {
##                 R2 &lt;- max(0, 100 * (tau2.RE - tau2)/tau2.RE)
##             }
##         }
##         else {
##             R2 &lt;- NA
##         }
##     }
##     else {
##         R2 &lt;- NULL
##     }
##     if (verbose &gt; 1) 
##         message(mstyle$message("Computing fit statistics and log likelihood ..."))
##     parms &lt;- p + ifelse(model == "rma.uni", ifelse(is.element(method, 
##         c("FE", "EE", "CE")) || tau2.fix, 0, 1), sum(is.na(alpha.val)))
##     ll.ML &lt;- -1/2 * (k) * log(2 * base::pi) - 1/2 * sum(log(vi + 
##         tau2)) - 1/2 * RSS.f
##     ll.REML &lt;- -1/2 * (k - p) * log(2 * base::pi) + ifelse(con$REMLf, 
##         1/2 * determinant(crossprod(X), logarithm = TRUE)$modulus, 
##         0) + -1/2 * sum(log(vi + tau2)) - 1/2 * determinant(crossprod(X, 
##         W) %*% X, logarithm = TRUE)$modulus - 1/2 * RSS.f
##     if (k &gt; p) {
##         dev.ML &lt;- -2 * (ll.ML - sum(dnorm(yi, mean = yi, sd = sqrt(vi), 
##             log = TRUE)))
##     }
##     else {
##         dev.ML &lt;- 0
##     }
##     AIC.ML &lt;- -2 * ll.ML + 2 * parms
##     BIC.ML &lt;- -2 * ll.ML + parms * log(k)
##     AICc.ML &lt;- -2 * ll.ML + 2 * parms * max(k, parms + 2)/(max(k, 
##         parms + 2) - parms - 1)
##     dev.REML &lt;- -2 * (ll.REML - 0)
##     AIC.REML &lt;- -2 * ll.REML + 2 * parms
##     BIC.REML &lt;- -2 * ll.REML + parms * log(k - p)
##     AICc.REML &lt;- -2 * ll.REML + 2 * parms * max(k - p, parms + 
##         2)/(max(k - p, parms + 2) - parms - 1)
##     fit.stats &lt;- matrix(c(ll.ML, dev.ML, AIC.ML, BIC.ML, AICc.ML, 
##         ll.REML, dev.REML, AIC.REML, BIC.REML, AICc.REML), ncol = 2, 
##         byrow = FALSE)
##     dimnames(fit.stats) &lt;- list(c("ll", "dev", "AIC", "BIC", 
##         "AICc"), c("ML", "REML"))
##     fit.stats &lt;- data.frame(fit.stats)
##     if (verbose &gt; 1) 
##         message(mstyle$message("Preparing output ..."))
##     p.eff &lt;- p
##     k.eff &lt;- k
##     if (is.null(ddd$outlist)) {
##         res &lt;- list(b = beta, beta = beta, se = se, zval = zval, 
##             pval = pval, ci.lb = ci.lb, ci.ub = ci.ub, vb = vb, 
##             tau2 = tau2, se.tau2 = se.tau2, tau2.fix = tau2.fix, 
##             tau2.f = tau2, I2 = I2, H2 = H2, R2 = R2, vt = vt, 
##             QE = QE, QEp = QEp, QM = QM, QMdf = QMdf, QMp = QMp, 
##             k = k, k.f = k.f, k.eff = k.eff, k.all = k.all, p = p, 
##             p.eff = p.eff, parms = parms, int.only = int.only, 
##             int.incl = int.incl, intercept = intercept, allvipos = allvipos, 
##             coef.na = coef.na, yi = yi, vi = vi, X = X, weights = weights, 
##             yi.f = yi.f, vi.f = vi.f, X.f = X.f, weights.f = weights.f, 
##             M = M, ai.f = ai.f, bi.f = bi.f, ci.f = ci.f, di.f = di.f, 
##             x1i.f = x1i.f, x2i.f = x2i.f, t1i.f = t1i.f, t2i.f = t2i.f, 
##             ni = ni, ni.f = ni.f, ids = ids, not.na = not.na, 
##             subset = subset, slab = slab, slab.null = slab.null, 
##             measure = measure, method = method, model = model, 
##             weighted = weighted, test = test, dfs = ddf, ddf = ddf, 
##             s2w = s2w, btt = btt, m = m, digits = digits, level = level, 
##             control = control, verbose = verbose, add = add, 
##             to = to, drop00 = drop00, fit.stats = fit.stats, 
##             formula.yi = formula.yi, formula.mods = formula.mods, 
##             version = packageVersion("metafor"), call = mf)
##     }
##     if (!is.null(ddd$outlist)) {
##         if (ddd$outlist == "minimal") {
##             res &lt;- list(b = beta, beta = beta, se = se, zval = zval, 
##                 pval = pval, ci.lb = ci.lb, ci.ub = ci.ub, vb = vb, 
##                 tau2 = tau2, se.tau2 = se.tau2, tau2.fix = tau2.fix, 
##                 I2 = I2, H2 = H2, R2 = R2, QE = QE, QEp = QEp, 
##                 QM = QM, QMdf = QMdf, QMp = QMp, k = k, k.eff = k.eff, 
##                 p = p, p.eff = p.eff, parms = parms, int.only = int.only, 
##                 measure = measure, method = method, model = model, 
##                 test = test, dfs = ddf, ddf = ddf, btt = btt, 
##                 m = m, digits = digits, fit.stats = fit.stats)
##         }
##         else {
##             res &lt;- eval(parse(text = paste0("list(", ddd$outlist, 
##                 ")")))
##         }
##     }
##     if (model == "rma.ls") {
##         res$alpha &lt;- alpha
##         res$va &lt;- va
##         res$se.alpha &lt;- se.alpha
##         res$zval.alpha &lt;- zval.alpha
##         res$pval.alpha &lt;- pval.alpha
##         res$ci.lb.alpha &lt;- ci.lb.alpha
##         res$ci.ub.alpha &lt;- ci.ub.alpha
##         res$alpha.fix &lt;- !is.na(alpha.val)
##         res$q &lt;- q
##         res$alphas &lt;- q
##         res$link &lt;- link
##         res$Z &lt;- Z
##         res$Z.f &lt;- Z.f
##         res$tau2.f &lt;- rep(NA, k.f)
##         res$tau2.f[not.na] &lt;- tau2
##         res$att &lt;- att
##         res$m.alpha &lt;- m.alpha
##         res$ddf.alpha &lt;- ddf.alpha
##         res$QS &lt;- QS
##         res$QSdf &lt;- QSdf
##         res$QSp &lt;- QSp
##         res$formula.scale &lt;- formula.scale
##         res$Z.int.incl &lt;- Z.int.incl
##         res$Z.intercept &lt;- Z.int.incl
##         res$Z.int.only &lt;- Z.int.only
##         res$H &lt;- H
##     }
##     time.end &lt;- proc.time()
##     res$time &lt;- unname(time.end - time.start)[3]
##     if (.isTRUE(ddd$time)) 
##         .print.time(res$time)
##     if (verbose || .isTRUE(ddd$time)) 
##         cat("\n")
##     if (model == "rma.ls") {
##         class(res) &lt;- c("rma.ls", "rma.uni", "rma")
##     }
##     else {
##         class(res) &lt;- c("rma.uni", "rma")
##     }
##     return(res)
## }
## &lt;bytecode: 0x55fca46c28c0&gt;
## &lt;environment: namespace:metafor&gt;</code></pre>
<p>Now we need a forest plot that can be stratified on class, dose, condition.</p>
<pre><code>## Error in pw_forest_plot(): argument "m_type" is missing, with no default</code></pre>
</div>
<div id="getting-nma-data" class="section level3" number="6.2.2">
<h3>
<span class="header-section-number">6.2.2</span> Getting NMA data<a class="anchor" aria-label="anchor" href="#getting-nma-data"><i class="fas fa-link"></i></a>
</h3>
<p>Key thing for these is that we need to exclude single-arm studies.</p>
<p>For example:</p>
<pre><code>## [1] 9</code></pre>
<pre><code>## [1] 9</code></pre>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
outcome
</th>
<th style="text-align:right;">
n
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:right;">
22
</td>
</tr></tbody>
</table></div>
</div>
<pre><code>## Error: Single-arm studies are not supported: issue with studies "ahmed 2016", "carette 1994" and "ginsberg 1996".</code></pre>
<p>But if we filter out the single-row studies, we get the viable observations for the model, or an empty tibble for no viable observations.</p>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm"><tbody><tr></tr></tbody></table></div>
</div>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:right;">
study_obs_count
</th>
<th style="text-align:left;">
rob_factors
</th>
<th style="text-align:left;">
rob
</th>
<th style="text-align:left;">
rob_subcat
</th>
<th style="text-align:right;">
gs_row
</th>
<th style="text-align:left;">
outcome
</th>
<th style="text-align:left;">
study
</th>
<th style="text-align:left;">
title
</th>
<th style="text-align:left;">
main_aim_of_study
</th>
<th style="text-align:left;">
intervention
</th>
<th style="text-align:left;">
intervention_type
</th>
<th style="text-align:left;">
intervention_grouping
</th>
<th style="text-align:left;">
arm
</th>
<th style="text-align:left;">
class
</th>
<th style="text-align:left;">
ad_dose_numerical_fixed_amount_range_or_mean_dose
</th>
<th style="text-align:left;">
dose
</th>
<th style="text-align:left;">
dose_schedule
</th>
<th style="text-align:left;">
length_of_study_start_to_post_intervention
</th>
<th style="text-align:left;">
pain_condition
</th>
<th style="text-align:left;">
condition
</th>
<th style="text-align:left;">
iasp_pain_grouping
</th>
<th style="text-align:left;">
minimum_pain_inclusion
</th>
<th style="text-align:left;">
design
</th>
<th style="text-align:left;">
imputation_method
</th>
<th style="text-align:left;">
scale
</th>
<th style="text-align:left;">
timepoint
</th>
<th style="text-align:left;">
follow_up_timepoint
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
se
</th>
<th style="text-align:right;">
median
</th>
<th style="text-align:right;">
ci_lower
</th>
<th style="text-align:right;">
ci_upper
</th>
<th style="text-align:right;">
iqr_lower
</th>
<th style="text-align:right;">
iqr_higher
</th>
<th style="text-align:right;">
n
</th>
<th style="text-align:right;">
r
</th>
<th style="text-align:right;">
r_percent
</th>
<th style="text-align:left;">
change_score
</th>
<th style="text-align:left;">
adverse_events_definition
</th>
<th style="text-align:left;">
stats_notes
</th>
<th style="text-align:left;">
study_notes
</th>
<th style="text-align:left;">
date_checked
</th>
<th style="text-align:left;">
remove_row_for_mood_analysis
</th>
<th style="text-align:left;">
funded_by_pharma
</th>
<th style="text-align:left;">
sequence_generation
</th>
<th style="text-align:left;">
allocation_concealment
</th>
<th style="text-align:left;">
blinding_of_participants_and_personnel
</th>
<th style="text-align:left;">
blinding_of_outcome_assessors
</th>
<th style="text-align:left;">
incomplete_outcome_data
</th>
<th style="text-align:left;">
selective_outcome_reporting
</th>
<th style="text-align:left;">
other_sources_of_bias
</th>
<th style="text-align:left;">
direction_of_improvement
</th>
<th style="text-align:left;">
outcome_nma
</th>
<th style="text-align:left;">
outcome_label
</th>
<th style="text-align:left;">
model_type
</th>
<th style="text-align:left;">
model_text
</th>
<th style="text-align:left;">
description
</th>
<th style="text-align:left;">
scale_dir
</th>
<th style="text-align:right;">
lower_bound
</th>
<th style="text-align:right;">
upper_bound
</th>
<th style="text-align:left;">
n_calc
</th>
<th style="text-align:left;">
r_calc
</th>
<th style="text-align:left;">
mean_calc
</th>
<th style="text-align:left;">
se_med_calc
</th>
<th style="text-align:left;">
sd_med_upper_calc
</th>
<th style="text-align:left;">
sd_calc_med_lower
</th>
<th style="text-align:left;">
sd_na_calc
</th>
<th style="text-align:left;">
mean_dir
</th>
<th style="text-align:left;">
type
</th>
<th style="text-align:left;">
outcome_all
</th>
<th style="text-align:left;">
time_no_change
</th>
<th style="text-align:left;">
timepoint_label
</th>
<th style="text-align:left;">
type_label
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
low; low; low; low; high; high; low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:right;">
383
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
arnold 2012: 2
</td>
<td style="text-align:left;">
safety and efficacy of esreboxetine in patients with fibromyalgia: a fourteen week, randomized, double-blind, placebo-controlled, multicenter clinical trial
</td>
<td style="text-align:left;">
pain
</td>
<td style="text-align:left;">
esreboxetine
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
esreboxetine 4mg
</td>
<td style="text-align:left;">
snri
</td>
<td style="text-align:left;">
4mg
</td>
<td style="text-align:left;">
standard
</td>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
14 weeks
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
≥40 on 100vas
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
itt with locf
</td>
<td style="text-align:left;">
0-10 numerical rating scale
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
4.68
</td>
<td style="text-align:right;">
2.313180
</td>
<td style="text-align:right;">
0.140000
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
273
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
post-intervention continuous scores are labelled as sem estimate, rather than just sem? i don’t know what this means.
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
yes
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pain intensity (continuous measure)
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
any continuous measure of pain
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
ad
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
low; low; low; low; high; high; low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:right;">
384
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
arnold 2012: 2
</td>
<td style="text-align:left;">
safety and efficacy of esreboxetine in patients with fibromyalgia: a fourteen week, randomized, double-blind, placebo-controlled, multicenter clinical trial
</td>
<td style="text-align:left;">
pain
</td>
<td style="text-align:left;">
esreboxetine
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
esreboxetine 8mg
</td>
<td style="text-align:left;">
snri
</td>
<td style="text-align:left;">
8mg
</td>
<td style="text-align:left;">
standard
</td>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
14 weeks
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
≥40 on 100vas
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
itt with locf
</td>
<td style="text-align:left;">
0-10 numerical rating scale
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
4.65
</td>
<td style="text-align:right;">
2.338461
</td>
<td style="text-align:right;">
0.140000
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
279
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
post-intervention continuous scores are labelled as sem estimate, rather than just sem? i don’t know what this means.
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
yes
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pain intensity (continuous measure)
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
any continuous measure of pain
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
ad
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
low; low; low; low; unclear; low; low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:right;">
860
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
dezanette 2014
</td>
<td style="text-align:left;">
melatonin analgesia is associated with improvement of the descending endogenous pain-modulating system in fibromyalgia: a phase ii, randomized, double-dummy, controlled trial
</td>
<td style="text-align:left;">
pain
</td>
<td style="text-align:left;">
amitriptyline
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
amitriptyline 25mg
</td>
<td style="text-align:left;">
tca
</td>
<td style="text-align:left;">
25mg
</td>
<td style="text-align:left;">
standard
</td>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
6 weeks
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
≥50 on 100vas
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
itt unspecified method
</td>
<td style="text-align:left;">
0-100 vas
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
50.02
</td>
<td style="text-align:right;">
25.600000
</td>
<td style="text-align:right;">
5.586378
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pain intensity (continuous measure)
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
any continuous measure of pain
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
ad
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
low; low; low; low; unclear; low; low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:right;">
861
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
dezanette 2014
</td>
<td style="text-align:left;">
melatonin analgesia is associated with improvement of the descending endogenous pain-modulating system in fibromyalgia: a phase ii, randomized, double-dummy, controlled trial
</td>
<td style="text-align:left;">
pain
</td>
<td style="text-align:left;">
melatonin + amitriptyline
</td>
<td style="text-align:left;">
combined antidepressant intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
melatonin + amitriptyline
</td>
<td style="text-align:left;">
tca
</td>
<td style="text-align:left;">
25mg
</td>
<td style="text-align:left;">
standard
</td>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
6 weeks
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
≥50 on 100vas
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
itt unspecified method
</td>
<td style="text-align:left;">
0-100 vas
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
48.64
</td>
<td style="text-align:right;">
15.380000
</td>
<td style="text-align:right;">
3.356191
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pain intensity (continuous measure)
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
any continuous measure of pain
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
ad
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
low; low; low; low; high; unclear; low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high + unclear
</td>
<td style="text-align:right;">
1252
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
goldenberg 1996
</td>
<td style="text-align:left;">
a randomized, double-blind crossover trial of fluoxetine and amitriptyline in the treatment of fibromyalgia
</td>
<td style="text-align:left;">
pain
</td>
<td style="text-align:left;">
amitriptyline
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
amitriptyline 25mg
</td>
<td style="text-align:left;">
tca
</td>
<td style="text-align:left;">
25mg
</td>
<td style="text-align:left;">
standard
</td>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
6 weeks
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
≥30 on 100vas
</td>
<td style="text-align:left;">
crossover
</td>
<td style="text-align:left;">
completer analysis
</td>
<td style="text-align:left;">
0-100 vas
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
64.40
</td>
<td style="text-align:right;">
28.300000
</td>
<td style="text-align:right;">
6.175566
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pain intensity (continuous measure)
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
any continuous measure of pain
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
ad
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
low; low; low; low; high; unclear; low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
high + unclear
</td>
<td style="text-align:right;">
1253
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
goldenberg 1996
</td>
<td style="text-align:left;">
a randomized, double-blind crossover trial of fluoxetine and amitriptyline in the treatment of fibromyalgia
</td>
<td style="text-align:left;">
pain
</td>
<td style="text-align:left;">
fluoxetine
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
fluoxetine 20mg
</td>
<td style="text-align:left;">
ssri
</td>
<td style="text-align:left;">
20mg
</td>
<td style="text-align:left;">
standard
</td>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
6 weeks
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
≥30 on 100vas
</td>
<td style="text-align:left;">
crossover
</td>
<td style="text-align:left;">
completer analysis
</td>
<td style="text-align:left;">
0-100 vas
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
57.50
</td>
<td style="text-align:right;">
25.700000
</td>
<td style="text-align:right;">
5.479258
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pain intensity (continuous measure)
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
any continuous measure of pain
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
ad
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
unclear; unclear; unclear; unclear; unclear; unclear; low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:right;">
1531
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
hussain 2011
</td>
<td style="text-align:left;">
adjuvant use of melatonin for treatment of fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia symptoms
</td>
<td style="text-align:left;">
fluoxetine
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
fluoxetine 20mg
</td>
<td style="text-align:left;">
ssri
</td>
<td style="text-align:left;">
20mg
</td>
<td style="text-align:left;">
standard
</td>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
8 weeks
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
not reported
</td>
<td style="text-align:left;">
fiq pain
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
6.55
</td>
<td style="text-align:right;">
1.665653
</td>
<td style="text-align:right;">
0.340000
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pain intensity (continuous measure)
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
any continuous measure of pain
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
ad
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
unclear; unclear; unclear; unclear; unclear; unclear; low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:right;">
1532
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
hussain 2011
</td>
<td style="text-align:left;">
adjuvant use of melatonin for treatment of fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia symptoms
</td>
<td style="text-align:left;">
fluoxetine + melatonin
</td>
<td style="text-align:left;">
combined antidepressant intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
fluoxetine 20mg + melatonin 3mg
</td>
<td style="text-align:left;">
ssri
</td>
<td style="text-align:left;">
20mg
</td>
<td style="text-align:left;">
standard
</td>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
8 weeks
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
not reported
</td>
<td style="text-align:left;">
fiq pain
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
5.33
</td>
<td style="text-align:right;">
2.442192
</td>
<td style="text-align:right;">
0.470000
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pain intensity (continuous measure)
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
any continuous measure of pain
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
ad
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
unclear; unclear; unclear; unclear; unclear; unclear; low
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:right;">
1533
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
hussain 2011
</td>
<td style="text-align:left;">
adjuvant use of melatonin for treatment of fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia symptoms
</td>
<td style="text-align:left;">
fluoxetine + melatonin
</td>
<td style="text-align:left;">
combined antidepressant intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
<td style="text-align:left;">
fluoxetine 20mg + melatonin 5mg
</td>
<td style="text-align:left;">
ssri
</td>
<td style="text-align:left;">
20mg
</td>
<td style="text-align:left;">
standard
</td>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
8 weeks
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
fibromyalgia
</td>
<td style="text-align:left;">
primary
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
parallel
</td>
<td style="text-align:left;">
not reported
</td>
<td style="text-align:left;">
fiq pain
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
5.40
</td>
<td style="text-align:right;">
1.774458
</td>
<td style="text-align:right;">
0.370000
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
no
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
unclear
</td>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
pain intensity (continuous measure)
</td>
<td style="text-align:left;">
smd
</td>
<td style="text-align:left;">
standardised mean difference
</td>
<td style="text-align:left;">
any continuous measure of pain
</td>
<td style="text-align:left;">
lower
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
ad
</td>
<td style="text-align:left;">
pain_int
</td>
<td style="text-align:left;">
post_int
</td>
<td style="text-align:left;">
post-intervention
</td>
<td style="text-align:left;">
antidepressant
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## [1] 76</code></pre>
<pre><code>## [1] 76</code></pre>

</div>
</div>
<div id="pain-intensity" class="section level2" number="6.3">
<h2>
<span class="header-section-number">6.3</span> Pain intensity<a class="anchor" aria-label="anchor" href="#pain-intensity"><i class="fas fa-link"></i></a>
</h2>
<div id="change-score-1" class="section level3" number="6.3.1">
<h3>
<span class="header-section-number">6.3.1</span> Change score<a class="anchor" aria-label="anchor" href="#change-score-1"><i class="fas fa-link"></i></a>
</h3>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Pain intensity (continuous measure)
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Change score
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
13132
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
43
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Standardised mean difference
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-44-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
<div id="post-intervention-1" class="section level3" number="6.3.2">
<h3>
<span class="header-section-number">6.3.2</span> Post-intervention<a class="anchor" aria-label="anchor" href="#post-intervention-1"><i class="fas fa-link"></i></a>
</h3>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Pain intensity (continuous measure)
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
6250
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
67
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Standardised mean difference
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-45-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
</div>
<div id="adverse" class="section level2" number="6.4">
<h2>
<span class="header-section-number">6.4</span> Adverse<a class="anchor" aria-label="anchor" href="#adverse"><i class="fas fa-link"></i></a>
</h2>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Adverse events
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
19072
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
80
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Odds ratio
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-46-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
<div id="mood-1" class="section level2" number="6.5">
<h2>
<span class="header-section-number">6.5</span> Mood<a class="anchor" aria-label="anchor" href="#mood-1"><i class="fas fa-link"></i></a>
</h2>
<div id="change-score-2" class="section level3" number="6.5.1">
<h3>
<span class="header-section-number">6.5.1</span> Change score<a class="anchor" aria-label="anchor" href="#change-score-2"><i class="fas fa-link"></i></a>
</h3>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Mood
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Change score
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
11453
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
36
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Standardised mean difference
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-47-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
<div id="post-intervention-2" class="section level3" number="6.5.2">
<h3>
<span class="header-section-number">6.5.2</span> Post-intervention<a class="anchor" aria-label="anchor" href="#post-intervention-2"><i class="fas fa-link"></i></a>
</h3>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Mood
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
2872
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
41
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Standardised mean difference
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-48-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
</div>
<div id="serious-adverse" class="section level2" number="6.6">
<h2>
<span class="header-section-number">6.6</span> Serious adverse<a class="anchor" aria-label="anchor" href="#serious-adverse"><i class="fas fa-link"></i></a>
</h2>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Serious adverse events
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
15490
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
58
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Odds ratio
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-49-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
<div id="dropout-due-to-adverse-events" class="section level2" number="6.7">
<h2>
<span class="header-section-number">6.7</span> Dropout due to adverse events<a class="anchor" aria-label="anchor" href="#dropout-due-to-adverse-events"><i class="fas fa-link"></i></a>
</h2>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Dropout due to adverse events
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
20949
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
99
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Odds ratio
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-50-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
<div id="substantial-pain-1" class="section level2" number="6.8">
<h2>
<span class="header-section-number">6.8</span> Substantial pain<a class="anchor" aria-label="anchor" href="#substantial-pain-1"><i class="fas fa-link"></i></a>
</h2>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Substantial pain relief (50% reduction)
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
13305
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Odds ratio
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-51-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
<div id="moderate-pain" class="section level2" number="6.9">
<h2>
<span class="header-section-number">6.9</span> Moderate pain<a class="anchor" aria-label="anchor" href="#moderate-pain"><i class="fas fa-link"></i></a>
</h2>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Moderate pain relief (30% reduction)
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
12160
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
36
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Odds ratio
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-52-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
<div id="sleep" class="section level2" number="6.10">
<h2>
<span class="header-section-number">6.10</span> Sleep<a class="anchor" aria-label="anchor" href="#sleep"><i class="fas fa-link"></i></a>
</h2>
<div id="change-score-3" class="section level3" number="6.10.1">
<h3>
<span class="header-section-number">6.10.1</span> Change score<a class="anchor" aria-label="anchor" href="#change-score-3"><i class="fas fa-link"></i></a>
</h3>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Sleep
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Change score
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
6077
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
17
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Standardised mean difference
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-53-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
<div id="post-intervention-3" class="section level3" number="6.10.2">
<h3>
<span class="header-section-number">6.10.2</span> Post intervention<a class="anchor" aria-label="anchor" href="#post-intervention-3"><i class="fas fa-link"></i></a>
</h3>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Sleep
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
1289
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Standardised mean difference
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-54-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
</div>
<div id="withdrawal" class="section level2" number="6.11">
<h2>
<span class="header-section-number">6.11</span> Withdrawal<a class="anchor" aria-label="anchor" href="#withdrawal"><i class="fas fa-link"></i></a>
</h2>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Withdrawal
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
23360
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
130
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Odds ratio
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-55-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
<div id="quality-of-life" class="section level2" number="6.12">
<h2>
<span class="header-section-number">6.12</span> Quality of life<a class="anchor" aria-label="anchor" href="#quality-of-life"><i class="fas fa-link"></i></a>
</h2>
<div id="change-score-4" class="section level3" number="6.12.1">
<h3>
<span class="header-section-number">6.12.1</span> Change score<a class="anchor" aria-label="anchor" href="#change-score-4"><i class="fas fa-link"></i></a>
</h3>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Moderate pain relief (30% reduction)
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
12160
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
36
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Odds ratio
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-56-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
<div id="post-intervention-4" class="section level3" number="6.12.2">
<h3>
<span class="header-section-number">6.12.2</span> Post intervention<a class="anchor" aria-label="anchor" href="#post-intervention-4"><i class="fas fa-link"></i></a>
</h3>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Quality of life
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
2256
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Standardised mean difference
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-57-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
</div>
<div id="physical-functioning" class="section level2" number="6.13">
<h2>
<span class="header-section-number">6.13</span> Physical functioning<a class="anchor" aria-label="anchor" href="#physical-functioning"><i class="fas fa-link"></i></a>
</h2>
<div id="change-score-5" class="section level3" number="6.13.1">
<h3>
<span class="header-section-number">6.13.1</span> Change score<a class="anchor" aria-label="anchor" href="#change-score-5"><i class="fas fa-link"></i></a>
</h3>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Physical functioning
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Change score
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
10721
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
31
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Standardised mean difference
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-58-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>
</div>
<div id="post-intervention-5" class="section level3" number="6.13.2">
<h3>
<span class="header-section-number">6.13.2</span> Post intervention<a class="anchor" aria-label="anchor" href="#post-intervention-5"><i class="fas fa-link"></i></a>
</h3>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th style="text-align:left;">
descriptor
</th>
<th style="text-align:left;">
details
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Population
</td>
<td style="text-align:left;">
Adults with chronic pain
</td>
</tr>
<tr>
<td style="text-align:left;">
Outcome
</td>
<td style="text-align:left;">
Physical functioning
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
Antidepressant
</td>
</tr>
<tr>
<td style="text-align:left;">
Timepoint
</td>
<td style="text-align:left;">
Post-intervention
</td>
</tr>
<tr>
<td style="text-align:left;">
Participants
</td>
<td style="text-align:left;">
2988
</td>
</tr>
<tr>
<td style="text-align:left;">
Studies
</td>
<td style="text-align:left;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
Model
</td>
<td style="text-align:left;">
Standardised mean difference
</td>
</tr>
<tr>
<td style="text-align:left;">
Comparator
</td>
<td style="text-align:left;">
Placebo
</td>
</tr>
</tbody>
</table></div>
</div>
<pre><code>## Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide =
## "none"` instead.</code></pre>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-59-1.png" width="960"></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## ℹ Input `..1` is `outcome == o`.
## x level sets of factors are different</code></pre>

<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-gray_2021" class="csl-entry">
Gray, Charles Ti. 2021. <span>“Towards a <span>Measure</span> of Code::proof: <span>A</span> Toolchain Walkthrough for Computationally Developing a Statistical Estimator.”</span> Thesis, <span>La Trobe</span>. <a href="https://doi.org/10.26181/6035d1c4cb220">https://doi.org/10.26181/6035d1c4cb220</a>.
</div>
<div id="ref-wan_2014" class="csl-entry">
Wan, Xiang, Wenqian Wang, Jiming Liu, and Tiejun Tong. 2014. <span>“Estimating the Sample Mean and Standard Deviation from the Sample Size, Median, Range and/or Interquartile Range.”</span> <em>BMC Medical Research Methodology</em> 14 (1): 135. <a href="https://doi.org/10.1186/1471-2288-14-135">https://doi.org/10.1186/1471-2288-14-135</a>.
</div>
</div>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="documentation.html"><span class="header-section-number">5</span> Documentation</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#pipeline"><span class="header-section-number">6</span> Pipeline</a></li>
<li><a class="nav-link" href="#getting-data"><span class="header-section-number">6.1</span> Getting data</a></li>
<li>
<a class="nav-link" href="#tasks"><span class="header-section-number">6.2</span> Tasks</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#placebo-vs-duloxetine"><span class="header-section-number">6.2.1</span> Placebo vs duloxetine</a></li>
<li><a class="nav-link" href="#getting-nma-data"><span class="header-section-number">6.2.2</span> Getting NMA data</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#pain-intensity"><span class="header-section-number">6.3</span> Pain intensity</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#change-score-1"><span class="header-section-number">6.3.1</span> Change score</a></li>
<li><a class="nav-link" href="#post-intervention-1"><span class="header-section-number">6.3.2</span> Post-intervention</a></li>
</ul>
</li>
<li><a class="nav-link" href="#adverse"><span class="header-section-number">6.4</span> Adverse</a></li>
<li>
<a class="nav-link" href="#mood-1"><span class="header-section-number">6.5</span> Mood</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#change-score-2"><span class="header-section-number">6.5.1</span> Change score</a></li>
<li><a class="nav-link" href="#post-intervention-2"><span class="header-section-number">6.5.2</span> Post-intervention</a></li>
</ul>
</li>
<li><a class="nav-link" href="#serious-adverse"><span class="header-section-number">6.6</span> Serious adverse</a></li>
<li><a class="nav-link" href="#dropout-due-to-adverse-events"><span class="header-section-number">6.7</span> Dropout due to adverse events</a></li>
<li><a class="nav-link" href="#substantial-pain-1"><span class="header-section-number">6.8</span> Substantial pain</a></li>
<li><a class="nav-link" href="#moderate-pain"><span class="header-section-number">6.9</span> Moderate pain</a></li>
<li>
<a class="nav-link" href="#sleep"><span class="header-section-number">6.10</span> Sleep</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#change-score-3"><span class="header-section-number">6.10.1</span> Change score</a></li>
<li><a class="nav-link" href="#post-intervention-3"><span class="header-section-number">6.10.2</span> Post intervention</a></li>
</ul>
</li>
<li><a class="nav-link" href="#withdrawal"><span class="header-section-number">6.11</span> Withdrawal</a></li>
<li>
<a class="nav-link" href="#quality-of-life"><span class="header-section-number">6.12</span> Quality of life</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#change-score-4"><span class="header-section-number">6.12.1</span> Change score</a></li>
<li><a class="nav-link" href="#post-intervention-4"><span class="header-section-number">6.12.2</span> Post intervention</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#physical-functioning"><span class="header-section-number">6.13</span> Physical functioning</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#change-score-5"><span class="header-section-number">6.13.1</span> Change score</a></li>
<li><a class="nav-link" href="#post-intervention-5"><span class="header-section-number">6.13.2</span> Post intervention</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Summary of findings development</strong>" was written by . </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
